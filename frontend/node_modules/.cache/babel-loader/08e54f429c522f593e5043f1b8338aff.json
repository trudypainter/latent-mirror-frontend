{"ast":null,"code":"import _regeneratorRuntime from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectSpread from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nvar VRButton = /*#__PURE__*/function () {\n  function VRButton() {\n    _classCallCheck(this, VRButton);\n  }\n  _createClass(VRButton, null, [{\n    key: \"createButton\",\n    value: function createButton(renderer) {\n      var sessionInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var button = document.createElement('button');\n      function /*device*/\n      showEnterVR() {\n        var currentSession = null;\n        function onSessionStarted(_x) {\n          return _onSessionStarted.apply(this, arguments);\n        }\n        function _onSessionStarted() {\n          _onSessionStarted = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(session) {\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    session.addEventListener('end', onSessionEnded);\n                    _context.next = 3;\n                    return renderer.xr.setSession(session);\n                  case 3:\n                    button.textContent = 'EXIT VR';\n                    currentSession = session;\n                  case 5:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n          return _onSessionStarted.apply(this, arguments);\n        }\n        function /*event*/\n        onSessionEnded() {\n          currentSession.removeEventListener('end', onSessionEnded);\n          button.textContent = 'ENTER VR';\n          currentSession = null;\n        } //\n\n        button.style.display = '';\n        button.style.cursor = 'pointer';\n        button.style.left = 'calc(50% - 50px)';\n        button.style.width = '100px';\n        button.textContent = 'ENTER VR';\n        button.onmouseenter = function () {\n          button.style.opacity = '1.0';\n        };\n        button.onmouseleave = function () {\n          button.style.opacity = '0.5';\n        };\n        button.onclick = function () {\n          if (currentSession === null) {\n            var _xr;\n\n            // WebXR's requestReferenceSpace only works if the corresponding feature\n            // was requested at session creation time. For simplicity, just ask for\n            // the interesting ones as optional features, but be aware that the\n            // requestReferenceSpace call will fail if it turns out to be unavailable.\n            // ('local' is always available for immersive sessions and doesn't need to\n            // be requested separately.)\n            var optionalFeatures = [sessionInit.optionalFeatures, 'local-floor', 'bounded-floor', 'hand-tracking'].flat().filter(Boolean);\n            (_xr = navigator.xr) === null || _xr === void 0 ? void 0 : _xr.requestSession('immersive-vr', _objectSpread(_objectSpread({}, sessionInit), {}, {\n              optionalFeatures: optionalFeatures\n            })).then(onSessionStarted);\n          } else {\n            currentSession.end();\n          }\n        };\n      }\n      function disableButton() {\n        button.style.display = '';\n        button.style.cursor = 'auto';\n        button.style.left = 'calc(50% - 75px)';\n        button.style.width = '150px';\n        button.onmouseenter = null;\n        button.onmouseleave = null;\n        button.onclick = null;\n      }\n      function showWebXRNotFound() {\n        disableButton();\n        button.textContent = 'VR NOT SUPPORTED';\n      }\n      function stylizeElement(element) {\n        element.style.position = 'absolute';\n        element.style.bottom = '20px';\n        element.style.padding = '12px 6px';\n        element.style.border = '1px solid #fff';\n        element.style.borderRadius = '4px';\n        element.style.background = 'rgba(0,0,0,0.1)';\n        element.style.color = '#fff';\n        element.style.font = 'normal 13px sans-serif';\n        element.style.textAlign = 'center';\n        element.style.opacity = '0.5';\n        element.style.outline = 'none';\n        element.style.zIndex = '999';\n      }\n      if ('xr' in navigator) {\n        stylizeElement(button);\n        button.id = 'VRButton';\n        button.style.display = 'none' // Query for session mode\n        ;\n\n        navigator.xr.isSessionSupported('immersive-vr').then(function (supported) {\n          supported ? showEnterVR() : showWebXRNotFound();\n          if (supported && VRButton.xrSessionIsGranted) {\n            button.click();\n          }\n        });\n        return button;\n      } else {\n        var message = document.createElement('a');\n        if (window.isSecureContext === false) {\n          message.href = document.location.href.replace(/^http:/, 'https:');\n          message.innerHTML = 'WEBXR NEEDS HTTPS'; // TODO Improve message\n        } else {\n          message.href = 'https://immersiveweb.dev/';\n          message.innerHTML = 'WEBXR NOT AVAILABLE';\n        }\n        message.style.left = 'calc(50% - 90px)';\n        message.style.width = '180px';\n        message.style.textDecoration = 'none';\n        stylizeElement(message);\n        return message;\n      }\n    }\n  }, {\n    key: \"registerSessionGrantedListener\",\n    value: function registerSessionGrantedListener() {\n      if ('xr' in navigator) {\n        navigator.xr.addEventListener('sessiongranted', function () {\n          VRButton.xrSessionIsGranted = true;\n        });\n      }\n    }\n  }]);\n  return VRButton;\n}();\n_defineProperty(VRButton, \"xrSessionIsGranted\", false);\nexport { VRButton };","map":{"version":3,"names":["_defineProperty","VRButton","renderer","sessionInit","button","document","createElement","showEnterVR","currentSession","onSessionStarted","session","addEventListener","onSessionEnded","xr","setSession","textContent","removeEventListener","style","display","cursor","left","width","onmouseenter","opacity","onmouseleave","onclick","_xr","optionalFeatures","flat","filter","Boolean","navigator","requestSession","then","end","disableButton","showWebXRNotFound","stylizeElement","element","position","bottom","padding","border","borderRadius","background","color","font","textAlign","outline","zIndex","id","isSessionSupported","supported","xrSessionIsGranted","click","message","window","isSecureContext","href","location","replace","innerHTML","textDecoration"],"sources":["/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/three-stdlib/webxr/VRButton.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\n\nclass VRButton {\n  static createButton(renderer, sessionInit = {}) {\n    const button = document.createElement('button');\n\n    function\n      /*device*/\n    showEnterVR() {\n      let currentSession = null;\n\n      async function onSessionStarted(session) {\n        session.addEventListener('end', onSessionEnded);\n        await renderer.xr.setSession(session);\n        button.textContent = 'EXIT VR';\n        currentSession = session;\n      }\n\n      function\n        /*event*/\n      onSessionEnded() {\n        currentSession.removeEventListener('end', onSessionEnded);\n        button.textContent = 'ENTER VR';\n        currentSession = null;\n      } //\n\n\n      button.style.display = '';\n      button.style.cursor = 'pointer';\n      button.style.left = 'calc(50% - 50px)';\n      button.style.width = '100px';\n      button.textContent = 'ENTER VR';\n\n      button.onmouseenter = () => {\n        button.style.opacity = '1.0';\n      };\n\n      button.onmouseleave = () => {\n        button.style.opacity = '0.5';\n      };\n\n      button.onclick = () => {\n        if (currentSession === null) {\n          var _xr;\n\n          // WebXR's requestReferenceSpace only works if the corresponding feature\n          // was requested at session creation time. For simplicity, just ask for\n          // the interesting ones as optional features, but be aware that the\n          // requestReferenceSpace call will fail if it turns out to be unavailable.\n          // ('local' is always available for immersive sessions and doesn't need to\n          // be requested separately.)\n          const optionalFeatures = [sessionInit.optionalFeatures, 'local-floor', 'bounded-floor', 'hand-tracking'].flat().filter(Boolean);\n          (_xr = navigator.xr) === null || _xr === void 0 ? void 0 : _xr.requestSession('immersive-vr', { ...sessionInit,\n            optionalFeatures\n          }).then(onSessionStarted);\n        } else {\n          currentSession.end();\n        }\n      };\n    }\n\n    function disableButton() {\n      button.style.display = '';\n      button.style.cursor = 'auto';\n      button.style.left = 'calc(50% - 75px)';\n      button.style.width = '150px';\n      button.onmouseenter = null;\n      button.onmouseleave = null;\n      button.onclick = null;\n    }\n\n    function showWebXRNotFound() {\n      disableButton();\n      button.textContent = 'VR NOT SUPPORTED';\n    }\n\n    function stylizeElement(element) {\n      element.style.position = 'absolute';\n      element.style.bottom = '20px';\n      element.style.padding = '12px 6px';\n      element.style.border = '1px solid #fff';\n      element.style.borderRadius = '4px';\n      element.style.background = 'rgba(0,0,0,0.1)';\n      element.style.color = '#fff';\n      element.style.font = 'normal 13px sans-serif';\n      element.style.textAlign = 'center';\n      element.style.opacity = '0.5';\n      element.style.outline = 'none';\n      element.style.zIndex = '999';\n    }\n\n    if ('xr' in navigator) {\n      stylizeElement(button);\n      button.id = 'VRButton';\n      button.style.display = 'none' // Query for session mode\n      ;\n      navigator.xr.isSessionSupported('immersive-vr').then(supported => {\n        supported ? showEnterVR() : showWebXRNotFound();\n\n        if (supported && VRButton.xrSessionIsGranted) {\n          button.click();\n        }\n      });\n      return button;\n    } else {\n      const message = document.createElement('a');\n\n      if (window.isSecureContext === false) {\n        message.href = document.location.href.replace(/^http:/, 'https:');\n        message.innerHTML = 'WEBXR NEEDS HTTPS'; // TODO Improve message\n      } else {\n        message.href = 'https://immersiveweb.dev/';\n        message.innerHTML = 'WEBXR NOT AVAILABLE';\n      }\n\n      message.style.left = 'calc(50% - 90px)';\n      message.style.width = '180px';\n      message.style.textDecoration = 'none';\n      stylizeElement(message);\n      return message;\n    }\n  }\n\n  static registerSessionGrantedListener() {\n    if ('xr' in navigator) {\n      navigator.xr.addEventListener('sessiongranted', () => {\n        VRButton.xrSessionIsGranted = true;\n      });\n    }\n  }\n\n}\n\n_defineProperty(VRButton, \"xrSessionIsGranted\", false);\n\nexport { VRButton };\n"],"mappings":";;;;;AAAA,OAAOA,eAAe,MAAM,2CAA2C;AAAC,IAElEC,QAAQ;EAAA;IAAA;EAAA;EAAA;IAAA;IAAA,OACZ,sBAAoBC,QAAQ,EAAoB;MAAA,IAAlBC,WAAW,uEAAG,CAAC,CAAC;MAC5C,IAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MAE/C,SACE;MACFC,WAAW,GAAG;QACZ,IAAIC,cAAc,GAAG,IAAI;QAAC,SAEXC,gBAAgB;UAAA;QAAA;QAAA;UAAA,+EAA/B,iBAAgCC,OAAO;YAAA;cAAA;gBAAA;kBAAA;oBACrCA,OAAO,CAACC,gBAAgB,CAAC,KAAK,EAAEC,cAAc,CAAC;oBAAC;oBAAA,OAC1CV,QAAQ,CAACW,EAAE,CAACC,UAAU,CAACJ,OAAO,CAAC;kBAAA;oBACrCN,MAAM,CAACW,WAAW,GAAG,SAAS;oBAC9BP,cAAc,GAAGE,OAAO;kBAAC;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA,CAC1B;UAAA;QAAA;QAED,SACE;QACFE,cAAc,GAAG;UACfJ,cAAc,CAACQ,mBAAmB,CAAC,KAAK,EAAEJ,cAAc,CAAC;UACzDR,MAAM,CAACW,WAAW,GAAG,UAAU;UAC/BP,cAAc,GAAG,IAAI;QACvB,CAAC,CAAC;;QAGFJ,MAAM,CAACa,KAAK,CAACC,OAAO,GAAG,EAAE;QACzBd,MAAM,CAACa,KAAK,CAACE,MAAM,GAAG,SAAS;QAC/Bf,MAAM,CAACa,KAAK,CAACG,IAAI,GAAG,kBAAkB;QACtChB,MAAM,CAACa,KAAK,CAACI,KAAK,GAAG,OAAO;QAC5BjB,MAAM,CAACW,WAAW,GAAG,UAAU;QAE/BX,MAAM,CAACkB,YAAY,GAAG,YAAM;UAC1BlB,MAAM,CAACa,KAAK,CAACM,OAAO,GAAG,KAAK;QAC9B,CAAC;QAEDnB,MAAM,CAACoB,YAAY,GAAG,YAAM;UAC1BpB,MAAM,CAACa,KAAK,CAACM,OAAO,GAAG,KAAK;QAC9B,CAAC;QAEDnB,MAAM,CAACqB,OAAO,GAAG,YAAM;UACrB,IAAIjB,cAAc,KAAK,IAAI,EAAE;YAC3B,IAAIkB,GAAG;;YAEP;YACA;YACA;YACA;YACA;YACA;YACA,IAAMC,gBAAgB,GAAG,CAACxB,WAAW,CAACwB,gBAAgB,EAAE,aAAa,EAAE,eAAe,EAAE,eAAe,CAAC,CAACC,IAAI,EAAE,CAACC,MAAM,CAACC,OAAO,CAAC;YAC/H,CAACJ,GAAG,GAAGK,SAAS,CAAClB,EAAE,MAAM,IAAI,IAAIa,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACM,cAAc,CAAC,cAAc,kCAAO7B,WAAW;cAC5GwB,gBAAgB,EAAhBA;YAAgB,GAChB,CAACM,IAAI,CAACxB,gBAAgB,CAAC;UAC3B,CAAC,MAAM;YACLD,cAAc,CAAC0B,GAAG,EAAE;UACtB;QACF,CAAC;MACH;MAEA,SAASC,aAAa,GAAG;QACvB/B,MAAM,CAACa,KAAK,CAACC,OAAO,GAAG,EAAE;QACzBd,MAAM,CAACa,KAAK,CAACE,MAAM,GAAG,MAAM;QAC5Bf,MAAM,CAACa,KAAK,CAACG,IAAI,GAAG,kBAAkB;QACtChB,MAAM,CAACa,KAAK,CAACI,KAAK,GAAG,OAAO;QAC5BjB,MAAM,CAACkB,YAAY,GAAG,IAAI;QAC1BlB,MAAM,CAACoB,YAAY,GAAG,IAAI;QAC1BpB,MAAM,CAACqB,OAAO,GAAG,IAAI;MACvB;MAEA,SAASW,iBAAiB,GAAG;QAC3BD,aAAa,EAAE;QACf/B,MAAM,CAACW,WAAW,GAAG,kBAAkB;MACzC;MAEA,SAASsB,cAAc,CAACC,OAAO,EAAE;QAC/BA,OAAO,CAACrB,KAAK,CAACsB,QAAQ,GAAG,UAAU;QACnCD,OAAO,CAACrB,KAAK,CAACuB,MAAM,GAAG,MAAM;QAC7BF,OAAO,CAACrB,KAAK,CAACwB,OAAO,GAAG,UAAU;QAClCH,OAAO,CAACrB,KAAK,CAACyB,MAAM,GAAG,gBAAgB;QACvCJ,OAAO,CAACrB,KAAK,CAAC0B,YAAY,GAAG,KAAK;QAClCL,OAAO,CAACrB,KAAK,CAAC2B,UAAU,GAAG,iBAAiB;QAC5CN,OAAO,CAACrB,KAAK,CAAC4B,KAAK,GAAG,MAAM;QAC5BP,OAAO,CAACrB,KAAK,CAAC6B,IAAI,GAAG,wBAAwB;QAC7CR,OAAO,CAACrB,KAAK,CAAC8B,SAAS,GAAG,QAAQ;QAClCT,OAAO,CAACrB,KAAK,CAACM,OAAO,GAAG,KAAK;QAC7Be,OAAO,CAACrB,KAAK,CAAC+B,OAAO,GAAG,MAAM;QAC9BV,OAAO,CAACrB,KAAK,CAACgC,MAAM,GAAG,KAAK;MAC9B;MAEA,IAAI,IAAI,IAAIlB,SAAS,EAAE;QACrBM,cAAc,CAACjC,MAAM,CAAC;QACtBA,MAAM,CAAC8C,EAAE,GAAG,UAAU;QACtB9C,MAAM,CAACa,KAAK,CAACC,OAAO,GAAG,MAAM,CAAC;QAAA;;QAE9Ba,SAAS,CAAClB,EAAE,CAACsC,kBAAkB,CAAC,cAAc,CAAC,CAAClB,IAAI,CAAC,UAAAmB,SAAS,EAAI;UAChEA,SAAS,GAAG7C,WAAW,EAAE,GAAG6B,iBAAiB,EAAE;UAE/C,IAAIgB,SAAS,IAAInD,QAAQ,CAACoD,kBAAkB,EAAE;YAC5CjD,MAAM,CAACkD,KAAK,EAAE;UAChB;QACF,CAAC,CAAC;QACF,OAAOlD,MAAM;MACf,CAAC,MAAM;QACL,IAAMmD,OAAO,GAAGlD,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;QAE3C,IAAIkD,MAAM,CAACC,eAAe,KAAK,KAAK,EAAE;UACpCF,OAAO,CAACG,IAAI,GAAGrD,QAAQ,CAACsD,QAAQ,CAACD,IAAI,CAACE,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC;UACjEL,OAAO,CAACM,SAAS,GAAG,mBAAmB,CAAC,CAAC;QAC3C,CAAC,MAAM;UACLN,OAAO,CAACG,IAAI,GAAG,2BAA2B;UAC1CH,OAAO,CAACM,SAAS,GAAG,qBAAqB;QAC3C;QAEAN,OAAO,CAACtC,KAAK,CAACG,IAAI,GAAG,kBAAkB;QACvCmC,OAAO,CAACtC,KAAK,CAACI,KAAK,GAAG,OAAO;QAC7BkC,OAAO,CAACtC,KAAK,CAAC6C,cAAc,GAAG,MAAM;QACrCzB,cAAc,CAACkB,OAAO,CAAC;QACvB,OAAOA,OAAO;MAChB;IACF;EAAC;IAAA;IAAA,OAED,0CAAwC;MACtC,IAAI,IAAI,IAAIxB,SAAS,EAAE;QACrBA,SAAS,CAAClB,EAAE,CAACF,gBAAgB,CAAC,gBAAgB,EAAE,YAAM;UACpDV,QAAQ,CAACoD,kBAAkB,GAAG,IAAI;QACpC,CAAC,CAAC;MACJ;IACF;EAAC;EAAA;AAAA;AAIHrD,eAAe,CAACC,QAAQ,EAAE,oBAAoB,EAAE,KAAK,CAAC;AAEtD,SAASA,QAAQ"},"metadata":{},"sourceType":"module"}