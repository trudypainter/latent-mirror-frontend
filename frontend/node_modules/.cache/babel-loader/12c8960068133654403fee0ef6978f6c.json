{"ast":null,"code":"import _classCallCheck from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport Node from '../core/Node.js';\nimport UniformNode from '../core/UniformNode.js';\nimport { NodeUpdateType } from '../core/constants.js';\nvar ReferenceNode = /*#__PURE__*/function (_Node) {\n  _inherits(ReferenceNode, _Node);\n  var _super = _createSuper(ReferenceNode);\n  function ReferenceNode(property, uniformType) {\n    var _this;\n    var object = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    _classCallCheck(this, ReferenceNode);\n    _this = _super.call(this);\n    _this.property = property;\n    _this.uniformType = uniformType;\n    _this.object = object;\n    _this.node = null;\n    _this.updateType = NodeUpdateType.Object;\n    _this.setNodeType(uniformType);\n    return _this;\n  }\n  _createClass(ReferenceNode, [{\n    key: \"setNodeType\",\n    value: function setNodeType(uniformType) {\n      this.node = new UniformNode(null, uniformType);\n      this.nodeType = uniformType;\n      if (uniformType === 'color') {\n        this.nodeType = 'vec3';\n      } else if (uniformType === 'texture') {\n        this.nodeType = 'vec4';\n      }\n    }\n  }, {\n    key: \"getNodeType\",\n    value: function getNodeType() {\n      return this.uniformType;\n    }\n  }, {\n    key: \"update\",\n    value: function update(frame) {\n      var object = this.object !== null ? this.object : frame.object;\n      var value = object[this.property];\n      this.node.value = value;\n    }\n  }, {\n    key: \"generate\",\n    value: function generate(builder) {\n      return this.node.build(builder, this.getNodeType(builder));\n    }\n  }]);\n  return ReferenceNode;\n}(Node);\nexport default ReferenceNode;","map":{"version":3,"names":["Node","UniformNode","NodeUpdateType","ReferenceNode","property","uniformType","object","node","updateType","Object","setNodeType","nodeType","frame","value","builder","build","getNodeType"],"sources":["/Users/trudypainter/Desktop/latent-2/frontend/node_modules/three-stdlib/nodes/accessors/ReferenceNode.js"],"sourcesContent":["import Node from '../core/Node.js';\nimport UniformNode from '../core/UniformNode.js';\nimport { NodeUpdateType } from '../core/constants.js';\n\nclass ReferenceNode extends Node {\n  constructor(property, uniformType, object = null) {\n    super();\n    this.property = property;\n    this.uniformType = uniformType;\n    this.object = object;\n    this.node = null;\n    this.updateType = NodeUpdateType.Object;\n    this.setNodeType(uniformType);\n  }\n\n  setNodeType(uniformType) {\n    this.node = new UniformNode(null, uniformType);\n    this.nodeType = uniformType;\n\n    if (uniformType === 'color') {\n      this.nodeType = 'vec3';\n    } else if (uniformType === 'texture') {\n      this.nodeType = 'vec4';\n    }\n  }\n\n  getNodeType() {\n    return this.uniformType;\n  }\n\n  update(frame) {\n    const object = this.object !== null ? this.object : frame.object;\n    const value = object[this.property];\n    this.node.value = value;\n  }\n\n  generate(builder) {\n    return this.node.build(builder, this.getNodeType(builder));\n  }\n\n}\n\nexport default ReferenceNode;\n"],"mappings":";;;;AAAA,OAAOA,IAAI,MAAM,iBAAiB;AAClC,OAAOC,WAAW,MAAM,wBAAwB;AAChD,SAASC,cAAc,QAAQ,sBAAsB;AAAC,IAEhDC,aAAa;EAAA;EAAA;EACjB,uBAAYC,QAAQ,EAAEC,WAAW,EAAiB;IAAA;IAAA,IAAfC,MAAM,uEAAG,IAAI;IAAA;IAC9C;IACA,MAAKF,QAAQ,GAAGA,QAAQ;IACxB,MAAKC,WAAW,GAAGA,WAAW;IAC9B,MAAKC,MAAM,GAAGA,MAAM;IACpB,MAAKC,IAAI,GAAG,IAAI;IAChB,MAAKC,UAAU,GAAGN,cAAc,CAACO,MAAM;IACvC,MAAKC,WAAW,CAACL,WAAW,CAAC;IAAC;EAChC;EAAC;IAAA;IAAA,OAED,qBAAYA,WAAW,EAAE;MACvB,IAAI,CAACE,IAAI,GAAG,IAAIN,WAAW,CAAC,IAAI,EAAEI,WAAW,CAAC;MAC9C,IAAI,CAACM,QAAQ,GAAGN,WAAW;MAE3B,IAAIA,WAAW,KAAK,OAAO,EAAE;QAC3B,IAAI,CAACM,QAAQ,GAAG,MAAM;MACxB,CAAC,MAAM,IAAIN,WAAW,KAAK,SAAS,EAAE;QACpC,IAAI,CAACM,QAAQ,GAAG,MAAM;MACxB;IACF;EAAC;IAAA;IAAA,OAED,uBAAc;MACZ,OAAO,IAAI,CAACN,WAAW;IACzB;EAAC;IAAA;IAAA,OAED,gBAAOO,KAAK,EAAE;MACZ,IAAMN,MAAM,GAAG,IAAI,CAACA,MAAM,KAAK,IAAI,GAAG,IAAI,CAACA,MAAM,GAAGM,KAAK,CAACN,MAAM;MAChE,IAAMO,KAAK,GAAGP,MAAM,CAAC,IAAI,CAACF,QAAQ,CAAC;MACnC,IAAI,CAACG,IAAI,CAACM,KAAK,GAAGA,KAAK;IACzB;EAAC;IAAA;IAAA,OAED,kBAASC,OAAO,EAAE;MAChB,OAAO,IAAI,CAACP,IAAI,CAACQ,KAAK,CAACD,OAAO,EAAE,IAAI,CAACE,WAAW,CAACF,OAAO,CAAC,CAAC;IAC5D;EAAC;EAAA;AAAA,EAlCyBd,IAAI;AAsChC,eAAeG,aAAa"},"metadata":{},"sourceType":"module"}