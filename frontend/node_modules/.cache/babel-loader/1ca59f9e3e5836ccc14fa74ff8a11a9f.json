{"ast":null,"code":"import _classCallCheck from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Curve, Vector4, Vector3 } from 'three';\nimport { calcBSplinePoint, calcNURBSDerivatives } from './NURBSUtils.js';\n\n/**\n * NURBS curve object\n *\n * Derives from Curve, overriding getPoint and getTangent.\n *\n * Implementation is based on (x, y [, z=0 [, w=1]]) control points with w=weight.\n *\n **/\nvar NURBSCurve = /*#__PURE__*/function (_Curve) {\n  _inherits(NURBSCurve, _Curve);\n  var _super = _createSuper(NURBSCurve);\n  function NURBSCurve(degree, knots\n  /* array of reals */, controlPoints\n  /* array of Vector(2|3|4) */, startKnot\n  /* index in knots */, endKnot\n  /* index in knots */) {\n    var _this;\n    _classCallCheck(this, NURBSCurve);\n    _this = _super.call(this);\n    _this.degree = degree;\n    _this.knots = knots;\n    _this.controlPoints = []; // Used by periodic NURBS to remove hidden spans\n\n    _this.startKnot = startKnot || 0;\n    _this.endKnot = endKnot || _this.knots.length - 1;\n    for (var i = 0; i < controlPoints.length; ++i) {\n      // ensure Vector4 for control points\n      var point = controlPoints[i];\n      _this.controlPoints[i] = new Vector4(point.x, point.y, point.z, point.w);\n    }\n    return _this;\n  }\n  _createClass(NURBSCurve, [{\n    key: \"getPoint\",\n    value: function getPoint(t, optionalTarget) {\n      var point = optionalTarget || new Vector3();\n      var u = this.knots[this.startKnot] + t * (this.knots[this.endKnot] - this.knots[this.startKnot]); // linear mapping t->u\n      // following results in (wx, wy, wz, w) homogeneous point\n\n      var hpoint = calcBSplinePoint(this.degree, this.knots, this.controlPoints, u);\n      if (hpoint.w != 1.0) {\n        // project to 3D space: (wx, wy, wz, w) -> (x, y, z, 1)\n        hpoint.divideScalar(hpoint.w);\n      }\n      return point.set(hpoint.x, hpoint.y, hpoint.z);\n    }\n  }, {\n    key: \"getTangent\",\n    value: function getTangent(t, optionalTarget) {\n      var tangent = optionalTarget || new Vector3();\n      var u = this.knots[0] + t * (this.knots[this.knots.length - 1] - this.knots[0]);\n      var ders = calcNURBSDerivatives(this.degree, this.knots, this.controlPoints, u, 1);\n      tangent.copy(ders[1]).normalize();\n      return tangent;\n    }\n  }]);\n  return NURBSCurve;\n}(Curve);\nexport { NURBSCurve };","map":{"version":3,"names":["Curve","Vector4","Vector3","calcBSplinePoint","calcNURBSDerivatives","NURBSCurve","degree","knots","controlPoints","startKnot","endKnot","length","i","point","x","y","z","w","t","optionalTarget","u","hpoint","divideScalar","set","tangent","ders","copy","normalize"],"sources":["/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/three-stdlib/curves/NURBSCurve.js"],"sourcesContent":["import { Curve, Vector4, Vector3 } from 'three';\nimport { calcBSplinePoint, calcNURBSDerivatives } from './NURBSUtils.js';\n\n/**\n * NURBS curve object\n *\n * Derives from Curve, overriding getPoint and getTangent.\n *\n * Implementation is based on (x, y [, z=0 [, w=1]]) control points with w=weight.\n *\n **/\n\nclass NURBSCurve extends Curve {\n  constructor(degree, knots\n  /* array of reals */\n  , controlPoints\n  /* array of Vector(2|3|4) */\n  , startKnot\n  /* index in knots */\n  , endKnot\n  /* index in knots */\n  ) {\n    super();\n    this.degree = degree;\n    this.knots = knots;\n    this.controlPoints = []; // Used by periodic NURBS to remove hidden spans\n\n    this.startKnot = startKnot || 0;\n    this.endKnot = endKnot || this.knots.length - 1;\n\n    for (let i = 0; i < controlPoints.length; ++i) {\n      // ensure Vector4 for control points\n      const point = controlPoints[i];\n      this.controlPoints[i] = new Vector4(point.x, point.y, point.z, point.w);\n    }\n  }\n\n  getPoint(t, optionalTarget) {\n    const point = optionalTarget || new Vector3();\n    const u = this.knots[this.startKnot] + t * (this.knots[this.endKnot] - this.knots[this.startKnot]); // linear mapping t->u\n    // following results in (wx, wy, wz, w) homogeneous point\n\n    const hpoint = calcBSplinePoint(this.degree, this.knots, this.controlPoints, u);\n\n    if (hpoint.w != 1.0) {\n      // project to 3D space: (wx, wy, wz, w) -> (x, y, z, 1)\n      hpoint.divideScalar(hpoint.w);\n    }\n\n    return point.set(hpoint.x, hpoint.y, hpoint.z);\n  }\n\n  getTangent(t, optionalTarget) {\n    const tangent = optionalTarget || new Vector3();\n    const u = this.knots[0] + t * (this.knots[this.knots.length - 1] - this.knots[0]);\n    const ders = calcNURBSDerivatives(this.degree, this.knots, this.controlPoints, u, 1);\n    tangent.copy(ders[1]).normalize();\n    return tangent;\n  }\n\n}\n\nexport { NURBSCurve };\n"],"mappings":";;;;AAAA,SAASA,KAAK,EAAEC,OAAO,EAAEC,OAAO,QAAQ,OAAO;AAC/C,SAASC,gBAAgB,EAAEC,oBAAoB,QAAQ,iBAAiB;;AAExE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA,IASMC,UAAU;EAAA;EAAA;EACd,oBAAYC,MAAM,EAAEC;EACpB,sBACEC;EACF,8BACEC;EACF,sBACEC;EACF,sBACE;IAAA;IAAA;IACA;IACA,MAAKJ,MAAM,GAAGA,MAAM;IACpB,MAAKC,KAAK,GAAGA,KAAK;IAClB,MAAKC,aAAa,GAAG,EAAE,CAAC,CAAC;;IAEzB,MAAKC,SAAS,GAAGA,SAAS,IAAI,CAAC;IAC/B,MAAKC,OAAO,GAAGA,OAAO,IAAI,MAAKH,KAAK,CAACI,MAAM,GAAG,CAAC;IAE/C,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,aAAa,CAACG,MAAM,EAAE,EAAEC,CAAC,EAAE;MAC7C;MACA,IAAMC,KAAK,GAAGL,aAAa,CAACI,CAAC,CAAC;MAC9B,MAAKJ,aAAa,CAACI,CAAC,CAAC,GAAG,IAAIX,OAAO,CAACY,KAAK,CAACC,CAAC,EAAED,KAAK,CAACE,CAAC,EAAEF,KAAK,CAACG,CAAC,EAAEH,KAAK,CAACI,CAAC,CAAC;IACzE;IAAC;EACH;EAAC;IAAA;IAAA,OAED,kBAASC,CAAC,EAAEC,cAAc,EAAE;MAC1B,IAAMN,KAAK,GAAGM,cAAc,IAAI,IAAIjB,OAAO,EAAE;MAC7C,IAAMkB,CAAC,GAAG,IAAI,CAACb,KAAK,CAAC,IAAI,CAACE,SAAS,CAAC,GAAGS,CAAC,IAAI,IAAI,CAACX,KAAK,CAAC,IAAI,CAACG,OAAO,CAAC,GAAG,IAAI,CAACH,KAAK,CAAC,IAAI,CAACE,SAAS,CAAC,CAAC,CAAC,CAAC;MACpG;;MAEA,IAAMY,MAAM,GAAGlB,gBAAgB,CAAC,IAAI,CAACG,MAAM,EAAE,IAAI,CAACC,KAAK,EAAE,IAAI,CAACC,aAAa,EAAEY,CAAC,CAAC;MAE/E,IAAIC,MAAM,CAACJ,CAAC,IAAI,GAAG,EAAE;QACnB;QACAI,MAAM,CAACC,YAAY,CAACD,MAAM,CAACJ,CAAC,CAAC;MAC/B;MAEA,OAAOJ,KAAK,CAACU,GAAG,CAACF,MAAM,CAACP,CAAC,EAAEO,MAAM,CAACN,CAAC,EAAEM,MAAM,CAACL,CAAC,CAAC;IAChD;EAAC;IAAA;IAAA,OAED,oBAAWE,CAAC,EAAEC,cAAc,EAAE;MAC5B,IAAMK,OAAO,GAAGL,cAAc,IAAI,IAAIjB,OAAO,EAAE;MAC/C,IAAMkB,CAAC,GAAG,IAAI,CAACb,KAAK,CAAC,CAAC,CAAC,GAAGW,CAAC,IAAI,IAAI,CAACX,KAAK,CAAC,IAAI,CAACA,KAAK,CAACI,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAACJ,KAAK,CAAC,CAAC,CAAC,CAAC;MACjF,IAAMkB,IAAI,GAAGrB,oBAAoB,CAAC,IAAI,CAACE,MAAM,EAAE,IAAI,CAACC,KAAK,EAAE,IAAI,CAACC,aAAa,EAAEY,CAAC,EAAE,CAAC,CAAC;MACpFI,OAAO,CAACE,IAAI,CAACD,IAAI,CAAC,CAAC,CAAC,CAAC,CAACE,SAAS,EAAE;MACjC,OAAOH,OAAO;IAChB;EAAC;EAAA;AAAA,EA9CsBxB,KAAK;AAkD9B,SAASK,UAAU"},"metadata":{},"sourceType":"module"}