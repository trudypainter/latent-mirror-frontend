{"ast":null,"code":"import _createClass from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _assertThisInitialized from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _get from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { Object3D, Raycaster, Vector3, Quaternion, Euler, Matrix4, Color, MeshBasicMaterial, DoubleSide, LineBasicMaterial, CylinderGeometry, BoxGeometry, BufferGeometry, Float32BufferAttribute, Mesh, Line, OctahedronGeometry, PlaneGeometry, TorusGeometry, SphereGeometry } from 'three';\nvar TransformControls = /*#__PURE__*/function (_Object3D) {\n  _inherits(TransformControls, _Object3D);\n  var _super = _createSuper(TransformControls);\n  // events\n  function TransformControls(camera, _domElement) {\n    var _thisSuper, _this;\n    _classCallCheck(this, TransformControls);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"isTransformControls\", true);\n    _defineProperty(_assertThisInitialized(_this), \"visible\", false);\n    _defineProperty(_assertThisInitialized(_this), \"domElement\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"raycaster\", new Raycaster());\n    _defineProperty(_assertThisInitialized(_this), \"gizmo\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"plane\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"tempVector\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"tempVector2\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"tempQuaternion\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this), \"unit\", {\n      X: new Vector3(1, 0, 0),\n      Y: new Vector3(0, 1, 0),\n      Z: new Vector3(0, 0, 1)\n    });\n    _defineProperty(_assertThisInitialized(_this), \"pointStart\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"pointEnd\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"offset\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"rotationAxis\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"startNorm\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"endNorm\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"rotationAngle\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"cameraPosition\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"cameraQuaternion\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this), \"cameraScale\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"parentPosition\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"parentQuaternion\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this), \"parentQuaternionInv\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this), \"parentScale\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"worldPositionStart\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"worldQuaternionStart\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this), \"worldScaleStart\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"worldPosition\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"worldQuaternion\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this), \"worldQuaternionInv\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this), \"worldScale\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"eye\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"positionStart\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"quaternionStart\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this), \"scaleStart\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"camera\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"object\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"enabled\", true);\n    _defineProperty(_assertThisInitialized(_this), \"axis\", null);\n    _defineProperty(_assertThisInitialized(_this), \"mode\", 'translate');\n    _defineProperty(_assertThisInitialized(_this), \"translationSnap\", null);\n    _defineProperty(_assertThisInitialized(_this), \"rotationSnap\", null);\n    _defineProperty(_assertThisInitialized(_this), \"scaleSnap\", null);\n    _defineProperty(_assertThisInitialized(_this), \"space\", 'world');\n    _defineProperty(_assertThisInitialized(_this), \"size\", 1);\n    _defineProperty(_assertThisInitialized(_this), \"dragging\", false);\n    _defineProperty(_assertThisInitialized(_this), \"showX\", true);\n    _defineProperty(_assertThisInitialized(_this), \"showY\", true);\n    _defineProperty(_assertThisInitialized(_this), \"showZ\", true);\n    _defineProperty(_assertThisInitialized(_this), \"changeEvent\", {\n      type: 'change'\n    });\n    _defineProperty(_assertThisInitialized(_this), \"mouseDownEvent\", {\n      type: 'mouseDown',\n      mode: _this.mode\n    });\n    _defineProperty(_assertThisInitialized(_this), \"mouseUpEvent\", {\n      type: 'mouseUp',\n      mode: _this.mode\n    });\n    _defineProperty(_assertThisInitialized(_this), \"objectChangeEvent\", {\n      type: 'objectChange'\n    });\n    _defineProperty(_assertThisInitialized(_this), \"intersectObjectWithRay\", function (object, raycaster, includeInvisible) {\n      var allIntersections = raycaster.intersectObject(object, true);\n      for (var i = 0; i < allIntersections.length; i++) {\n        if (allIntersections[i].object.visible || includeInvisible) {\n          return allIntersections[i];\n        }\n      }\n      return false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"attach\", function (object) {\n      _this.object = object;\n      _this.visible = true;\n      return _assertThisInitialized(_this);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"detach\", function () {\n      _this.object = undefined;\n      _this.visible = false;\n      _this.axis = null;\n      return _assertThisInitialized(_this);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"reset\", function () {\n      if (!_this.enabled) return _assertThisInitialized(_this);\n      if (_this.dragging) {\n        if (_this.object !== undefined) {\n          _this.object.position.copy(_this.positionStart);\n          _this.object.quaternion.copy(_this.quaternionStart);\n          _this.object.scale.copy(_this.scaleStart);\n          _this.dispatchEvent(_this.changeEvent);\n          _this.dispatchEvent(_this.objectChangeEvent);\n          _this.pointStart.copy(_this.pointEnd);\n        }\n      }\n      return _assertThisInitialized(_this);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateMatrixWorld\", function () {\n      if (_this.object !== undefined) {\n        _this.object.updateMatrixWorld();\n        if (_this.object.parent === null) {\n          console.error('TransformControls: The attached 3D object must be a part of the scene graph.');\n        } else {\n          _this.object.parent.matrixWorld.decompose(_this.parentPosition, _this.parentQuaternion, _this.parentScale);\n        }\n        _this.object.matrixWorld.decompose(_this.worldPosition, _this.worldQuaternion, _this.worldScale);\n        _this.parentQuaternionInv.copy(_this.parentQuaternion).invert();\n        _this.worldQuaternionInv.copy(_this.worldQuaternion).invert();\n      }\n      _this.camera.updateMatrixWorld();\n      _this.camera.matrixWorld.decompose(_this.cameraPosition, _this.cameraQuaternion, _this.cameraScale);\n      _this.eye.copy(_this.cameraPosition).sub(_this.worldPosition).normalize();\n      _get((_thisSuper = _assertThisInitialized(_this), _getPrototypeOf(TransformControls.prototype)), \"updateMatrixWorld\", _thisSuper).call(_thisSuper);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"pointerHover\", function (pointer) {\n      if (_this.object === undefined || _this.dragging === true) return;\n      _this.raycaster.setFromCamera(pointer, _this.camera);\n      var intersect = _this.intersectObjectWithRay(_this.gizmo.picker[_this.mode], _this.raycaster);\n      if (intersect) {\n        _this.axis = intersect.object.name;\n      } else {\n        _this.axis = null;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"pointerDown\", function (pointer) {\n      if (_this.object === undefined || _this.dragging === true || pointer.button !== 0) return;\n      if (_this.axis !== null) {\n        _this.raycaster.setFromCamera(pointer, _this.camera);\n        var planeIntersect = _this.intersectObjectWithRay(_this.plane, _this.raycaster, true);\n        if (planeIntersect) {\n          var space = _this.space;\n          if (_this.mode === 'scale') {\n            space = 'local';\n          } else if (_this.axis === 'E' || _this.axis === 'XYZE' || _this.axis === 'XYZ') {\n            space = 'world';\n          }\n          if (space === 'local' && _this.mode === 'rotate') {\n            var snap = _this.rotationSnap;\n            if (_this.axis === 'X' && snap) _this.object.rotation.x = Math.round(_this.object.rotation.x / snap) * snap;\n            if (_this.axis === 'Y' && snap) _this.object.rotation.y = Math.round(_this.object.rotation.y / snap) * snap;\n            if (_this.axis === 'Z' && snap) _this.object.rotation.z = Math.round(_this.object.rotation.z / snap) * snap;\n          }\n          _this.object.updateMatrixWorld();\n          if (_this.object.parent) {\n            _this.object.parent.updateMatrixWorld();\n          }\n          _this.positionStart.copy(_this.object.position);\n          _this.quaternionStart.copy(_this.object.quaternion);\n          _this.scaleStart.copy(_this.object.scale);\n          _this.object.matrixWorld.decompose(_this.worldPositionStart, _this.worldQuaternionStart, _this.worldScaleStart);\n          _this.pointStart.copy(planeIntersect.point).sub(_this.worldPositionStart);\n        }\n        _this.dragging = true;\n        _this.mouseDownEvent.mode = _this.mode;\n        _this.dispatchEvent(_this.mouseDownEvent);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"pointerMove\", function (pointer) {\n      var axis = _this.axis;\n      var mode = _this.mode;\n      var object = _this.object;\n      var space = _this.space;\n      if (mode === 'scale') {\n        space = 'local';\n      } else if (axis === 'E' || axis === 'XYZE' || axis === 'XYZ') {\n        space = 'world';\n      }\n      if (object === undefined || axis === null || _this.dragging === false || pointer.button !== -1) return;\n      _this.raycaster.setFromCamera(pointer, _this.camera);\n      var planeIntersect = _this.intersectObjectWithRay(_this.plane, _this.raycaster, true);\n      if (!planeIntersect) return;\n      _this.pointEnd.copy(planeIntersect.point).sub(_this.worldPositionStart);\n      if (mode === 'translate') {\n        // Apply translate\n        _this.offset.copy(_this.pointEnd).sub(_this.pointStart);\n        if (space === 'local' && axis !== 'XYZ') {\n          _this.offset.applyQuaternion(_this.worldQuaternionInv);\n        }\n        if (axis.indexOf('X') === -1) _this.offset.x = 0;\n        if (axis.indexOf('Y') === -1) _this.offset.y = 0;\n        if (axis.indexOf('Z') === -1) _this.offset.z = 0;\n        if (space === 'local' && axis !== 'XYZ') {\n          _this.offset.applyQuaternion(_this.quaternionStart).divide(_this.parentScale);\n        } else {\n          _this.offset.applyQuaternion(_this.parentQuaternionInv).divide(_this.parentScale);\n        }\n        object.position.copy(_this.offset).add(_this.positionStart); // Apply translation snap\n\n        if (_this.translationSnap) {\n          if (space === 'local') {\n            object.position.applyQuaternion(_this.tempQuaternion.copy(_this.quaternionStart).invert());\n            if (axis.search('X') !== -1) {\n              object.position.x = Math.round(object.position.x / _this.translationSnap) * _this.translationSnap;\n            }\n            if (axis.search('Y') !== -1) {\n              object.position.y = Math.round(object.position.y / _this.translationSnap) * _this.translationSnap;\n            }\n            if (axis.search('Z') !== -1) {\n              object.position.z = Math.round(object.position.z / _this.translationSnap) * _this.translationSnap;\n            }\n            object.position.applyQuaternion(_this.quaternionStart);\n          }\n          if (space === 'world') {\n            if (object.parent) {\n              object.position.add(_this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n            if (axis.search('X') !== -1) {\n              object.position.x = Math.round(object.position.x / _this.translationSnap) * _this.translationSnap;\n            }\n            if (axis.search('Y') !== -1) {\n              object.position.y = Math.round(object.position.y / _this.translationSnap) * _this.translationSnap;\n            }\n            if (axis.search('Z') !== -1) {\n              object.position.z = Math.round(object.position.z / _this.translationSnap) * _this.translationSnap;\n            }\n            if (object.parent) {\n              object.position.sub(_this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n          }\n        }\n      } else if (mode === 'scale') {\n        if (axis.search('XYZ') !== -1) {\n          var d = _this.pointEnd.length() / _this.pointStart.length();\n          if (_this.pointEnd.dot(_this.pointStart) < 0) d *= -1;\n          _this.tempVector2.set(d, d, d);\n        } else {\n          _this.tempVector.copy(_this.pointStart);\n          _this.tempVector2.copy(_this.pointEnd);\n          _this.tempVector.applyQuaternion(_this.worldQuaternionInv);\n          _this.tempVector2.applyQuaternion(_this.worldQuaternionInv);\n          _this.tempVector2.divide(_this.tempVector);\n          if (axis.search('X') === -1) {\n            _this.tempVector2.x = 1;\n          }\n          if (axis.search('Y') === -1) {\n            _this.tempVector2.y = 1;\n          }\n          if (axis.search('Z') === -1) {\n            _this.tempVector2.z = 1;\n          }\n        } // Apply scale\n\n        object.scale.copy(_this.scaleStart).multiply(_this.tempVector2);\n        if (_this.scaleSnap && _this.object) {\n          if (axis.search('X') !== -1) {\n            _this.object.scale.x = Math.round(object.scale.x / _this.scaleSnap) * _this.scaleSnap || _this.scaleSnap;\n          }\n          if (axis.search('Y') !== -1) {\n            object.scale.y = Math.round(object.scale.y / _this.scaleSnap) * _this.scaleSnap || _this.scaleSnap;\n          }\n          if (axis.search('Z') !== -1) {\n            object.scale.z = Math.round(object.scale.z / _this.scaleSnap) * _this.scaleSnap || _this.scaleSnap;\n          }\n        }\n      } else if (mode === 'rotate') {\n        _this.offset.copy(_this.pointEnd).sub(_this.pointStart);\n        var ROTATION_SPEED = 20 / _this.worldPosition.distanceTo(_this.tempVector.setFromMatrixPosition(_this.camera.matrixWorld));\n        if (axis === 'E') {\n          _this.rotationAxis.copy(_this.eye);\n          _this.rotationAngle = _this.pointEnd.angleTo(_this.pointStart);\n          _this.startNorm.copy(_this.pointStart).normalize();\n          _this.endNorm.copy(_this.pointEnd).normalize();\n          _this.rotationAngle *= _this.endNorm.cross(_this.startNorm).dot(_this.eye) < 0 ? 1 : -1;\n        } else if (axis === 'XYZE') {\n          _this.rotationAxis.copy(_this.offset).cross(_this.eye).normalize();\n          _this.rotationAngle = _this.offset.dot(_this.tempVector.copy(_this.rotationAxis).cross(_this.eye)) * ROTATION_SPEED;\n        } else if (axis === 'X' || axis === 'Y' || axis === 'Z') {\n          _this.rotationAxis.copy(_this.unit[axis]);\n          _this.tempVector.copy(_this.unit[axis]);\n          if (space === 'local') {\n            _this.tempVector.applyQuaternion(_this.worldQuaternion);\n          }\n          _this.rotationAngle = _this.offset.dot(_this.tempVector.cross(_this.eye).normalize()) * ROTATION_SPEED;\n        } // Apply rotation snap\n\n        if (_this.rotationSnap) {\n          _this.rotationAngle = Math.round(_this.rotationAngle / _this.rotationSnap) * _this.rotationSnap;\n        } // Apply rotate\n\n        if (space === 'local' && axis !== 'E' && axis !== 'XYZE') {\n          object.quaternion.copy(_this.quaternionStart);\n          object.quaternion.multiply(_this.tempQuaternion.setFromAxisAngle(_this.rotationAxis, _this.rotationAngle)).normalize();\n        } else {\n          _this.rotationAxis.applyQuaternion(_this.parentQuaternionInv);\n          object.quaternion.copy(_this.tempQuaternion.setFromAxisAngle(_this.rotationAxis, _this.rotationAngle));\n          object.quaternion.multiply(_this.quaternionStart).normalize();\n        }\n      }\n      _this.dispatchEvent(_this.changeEvent);\n      _this.dispatchEvent(_this.objectChangeEvent);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"pointerUp\", function (pointer) {\n      if (pointer.button !== 0) return;\n      if (_this.dragging && _this.axis !== null) {\n        _this.mouseUpEvent.mode = _this.mode;\n        _this.dispatchEvent(_this.mouseUpEvent);\n      }\n      _this.dragging = false;\n      _this.axis = null;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getPointer\", function (event) {\n      var _this$domElement$owne;\n      if (_this.domElement && (_this$domElement$owne = _this.domElement.ownerDocument) !== null && _this$domElement$owne !== void 0 && _this$domElement$owne.pointerLockElement) {\n        return {\n          x: 0,\n          y: 0,\n          button: event.button\n        };\n      } else {\n        var _this$domElement;\n        var pointer = event.changedTouches ? event.changedTouches[0] : event;\n        var rect = (_this$domElement = _this.domElement) === null || _this$domElement === void 0 ? void 0 : _this$domElement.getBoundingClientRect();\n        return {\n          x: (pointer.clientX - rect.left) / rect.width * 2 - 1,\n          y: -(pointer.clientY - rect.top) / rect.height * 2 + 1,\n          button: event.button\n        };\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onPointerHover\", function (event) {\n      if (!_this.enabled) return;\n      switch (event.pointerType) {\n        case 'mouse':\n        case 'pen':\n          _this.pointerHover(_this.getPointer(event));\n          break;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onPointerDown\", function (event) {\n      if (!_this.enabled || !_this.domElement) return;\n      _this.domElement.style.touchAction = 'none'; // disable touch scroll\n\n      _this.domElement.ownerDocument.addEventListener('pointermove', _this.onPointerMove);\n      _this.pointerHover(_this.getPointer(event));\n      _this.pointerDown(_this.getPointer(event));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onPointerMove\", function (event) {\n      if (!_this.enabled) return;\n      _this.pointerMove(_this.getPointer(event));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onPointerUp\", function (event) {\n      if (!_this.enabled || !_this.domElement) return;\n      _this.domElement.style.touchAction = '';\n      _this.domElement.ownerDocument.removeEventListener('pointermove', _this.onPointerMove);\n      _this.pointerUp(_this.getPointer(event));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getMode\", function () {\n      return _this.mode;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setMode\", function (mode) {\n      _this.mode = mode;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setTranslationSnap\", function (translationSnap) {\n      _this.translationSnap = translationSnap;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setRotationSnap\", function (rotationSnap) {\n      _this.rotationSnap = rotationSnap;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setScaleSnap\", function (scaleSnap) {\n      _this.scaleSnap = scaleSnap;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setSize\", function (size) {\n      _this.size = size;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setSpace\", function (space) {\n      _this.space = space;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"update\", function () {\n      console.warn('THREE.TransformControls: update function has no more functionality and therefore has been deprecated.');\n    });\n    _defineProperty(_assertThisInitialized(_this), \"connect\", function (domElement) {\n      if (domElement === document) {\n        console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n      }\n      _this.domElement = domElement;\n      _this.domElement.addEventListener('pointerdown', _this.onPointerDown);\n      _this.domElement.addEventListener('pointermove', _this.onPointerHover);\n      _this.domElement.ownerDocument.addEventListener('pointerup', _this.onPointerUp);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"dispose\", function () {\n      var _this$domElement2, _this$domElement3, _this$domElement4, _this$domElement4$own, _this$domElement5, _this$domElement5$own;\n      (_this$domElement2 = _this.domElement) === null || _this$domElement2 === void 0 ? void 0 : _this$domElement2.removeEventListener('pointerdown', _this.onPointerDown);\n      (_this$domElement3 = _this.domElement) === null || _this$domElement3 === void 0 ? void 0 : _this$domElement3.removeEventListener('pointermove', _this.onPointerHover);\n      (_this$domElement4 = _this.domElement) === null || _this$domElement4 === void 0 ? void 0 : (_this$domElement4$own = _this$domElement4.ownerDocument) === null || _this$domElement4$own === void 0 ? void 0 : _this$domElement4$own.removeEventListener('pointermove', _this.onPointerMove);\n      (_this$domElement5 = _this.domElement) === null || _this$domElement5 === void 0 ? void 0 : (_this$domElement5$own = _this$domElement5.ownerDocument) === null || _this$domElement5$own === void 0 ? void 0 : _this$domElement5$own.removeEventListener('pointerup', _this.onPointerUp);\n      _this.traverse(function (child) {\n        var mesh = child;\n        if (mesh.geometry) {\n          mesh.geometry.dispose();\n        }\n        if (mesh.material) {\n          mesh.material.dispose();\n        }\n      });\n    });\n    _this.domElement = _domElement;\n    _this.camera = camera;\n    _this.gizmo = new TransformControlsGizmo();\n    _this.add(_this.gizmo);\n    _this.plane = new TransformControlsPlane();\n    _this.add(_this.plane); // Defined getter, setter and store for a property\n\n    var defineProperty = function defineProperty(propName, defaultValue) {\n      var propValue = defaultValue;\n      Object.defineProperty(_assertThisInitialized(_this), propName, {\n        get: function get() {\n          return propValue !== undefined ? propValue : defaultValue;\n        },\n        set: function set(value) {\n          if (propValue !== value) {\n            propValue = value;\n            this.plane[propName] = value;\n            this.gizmo[propName] = value;\n            this.dispatchEvent({\n              type: propName + '-changed',\n              value: value\n            });\n            this.dispatchEvent(this.changeEvent);\n          }\n        }\n      }); //@ts-ignore\n\n      _this[propName] = defaultValue; // @ts-ignore\n\n      _this.plane[propName] = defaultValue; // @ts-ignore\n\n      _this.gizmo[propName] = defaultValue;\n    };\n    defineProperty('camera', _this.camera);\n    defineProperty('object', _this.object);\n    defineProperty('enabled', _this.enabled);\n    defineProperty('axis', _this.axis);\n    defineProperty('mode', _this.mode);\n    defineProperty('translationSnap', _this.translationSnap);\n    defineProperty('rotationSnap', _this.rotationSnap);\n    defineProperty('scaleSnap', _this.scaleSnap);\n    defineProperty('space', _this.space);\n    defineProperty('size', _this.size);\n    defineProperty('dragging', _this.dragging);\n    defineProperty('showX', _this.showX);\n    defineProperty('showY', _this.showY);\n    defineProperty('showZ', _this.showZ);\n    defineProperty('worldPosition', _this.worldPosition);\n    defineProperty('worldPositionStart', _this.worldPositionStart);\n    defineProperty('worldQuaternion', _this.worldQuaternion);\n    defineProperty('worldQuaternionStart', _this.worldQuaternionStart);\n    defineProperty('cameraPosition', _this.cameraPosition);\n    defineProperty('cameraQuaternion', _this.cameraQuaternion);\n    defineProperty('pointStart', _this.pointStart);\n    defineProperty('pointEnd', _this.pointEnd);\n    defineProperty('rotationAxis', _this.rotationAxis);\n    defineProperty('rotationAngle', _this.rotationAngle);\n    defineProperty('eye', _this.eye); // connect events\n\n    if (_domElement !== undefined) _this.connect(_domElement);\n    return _this;\n  }\n  return _createClass(TransformControls);\n}(Object3D);\nvar TransformControlsGizmo = /*#__PURE__*/function (_Object3D2) {\n  _inherits(TransformControlsGizmo, _Object3D2);\n  var _super2 = _createSuper(TransformControlsGizmo);\n  // these are set from parent class TransformControls\n  function TransformControlsGizmo() {\n    var _thisSuper2, _this2;\n    _classCallCheck(this, TransformControlsGizmo);\n    _this2 = _super2.call(this);\n    _defineProperty(_assertThisInitialized(_this2), \"isTransformControlsGizmo\", true);\n    _defineProperty(_assertThisInitialized(_this2), \"type\", 'TransformControlsGizmo');\n    _defineProperty(_assertThisInitialized(_this2), \"tempVector\", new Vector3(0, 0, 0));\n    _defineProperty(_assertThisInitialized(_this2), \"tempEuler\", new Euler());\n    _defineProperty(_assertThisInitialized(_this2), \"alignVector\", new Vector3(0, 1, 0));\n    _defineProperty(_assertThisInitialized(_this2), \"zeroVector\", new Vector3(0, 0, 0));\n    _defineProperty(_assertThisInitialized(_this2), \"lookAtMatrix\", new Matrix4());\n    _defineProperty(_assertThisInitialized(_this2), \"tempQuaternion\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this2), \"tempQuaternion2\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this2), \"identityQuaternion\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this2), \"unitX\", new Vector3(1, 0, 0));\n    _defineProperty(_assertThisInitialized(_this2), \"unitY\", new Vector3(0, 1, 0));\n    _defineProperty(_assertThisInitialized(_this2), \"unitZ\", new Vector3(0, 0, 1));\n    _defineProperty(_assertThisInitialized(_this2), \"gizmo\", void 0);\n    _defineProperty(_assertThisInitialized(_this2), \"picker\", void 0);\n    _defineProperty(_assertThisInitialized(_this2), \"helper\", void 0);\n    _defineProperty(_assertThisInitialized(_this2), \"rotationAxis\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this2), \"cameraPosition\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this2), \"worldPositionStart\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this2), \"worldQuaternionStart\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this2), \"worldPosition\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this2), \"worldQuaternion\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this2), \"eye\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this2), \"camera\", null);\n    _defineProperty(_assertThisInitialized(_this2), \"enabled\", true);\n    _defineProperty(_assertThisInitialized(_this2), \"axis\", null);\n    _defineProperty(_assertThisInitialized(_this2), \"mode\", 'translate');\n    _defineProperty(_assertThisInitialized(_this2), \"space\", 'world');\n    _defineProperty(_assertThisInitialized(_this2), \"size\", 1);\n    _defineProperty(_assertThisInitialized(_this2), \"dragging\", false);\n    _defineProperty(_assertThisInitialized(_this2), \"showX\", true);\n    _defineProperty(_assertThisInitialized(_this2), \"showY\", true);\n    _defineProperty(_assertThisInitialized(_this2), \"showZ\", true);\n    _defineProperty(_assertThisInitialized(_this2), \"updateMatrixWorld\", function () {\n      var space = _this2.space;\n      if (_this2.mode === 'scale') {\n        space = 'local'; // scale always oriented to local rotation\n      }\n\n      var quaternion = space === 'local' ? _this2.worldQuaternion : _this2.identityQuaternion; // Show only gizmos for current transform mode\n\n      _this2.gizmo['translate'].visible = _this2.mode === 'translate';\n      _this2.gizmo['rotate'].visible = _this2.mode === 'rotate';\n      _this2.gizmo['scale'].visible = _this2.mode === 'scale';\n      _this2.helper['translate'].visible = _this2.mode === 'translate';\n      _this2.helper['rotate'].visible = _this2.mode === 'rotate';\n      _this2.helper['scale'].visible = _this2.mode === 'scale';\n      var handles = [];\n      handles = handles.concat(_this2.picker[_this2.mode].children);\n      handles = handles.concat(_this2.gizmo[_this2.mode].children);\n      handles = handles.concat(_this2.helper[_this2.mode].children);\n      var _loop = function _loop(i) {\n        var handle = handles[i]; // hide aligned to camera\n\n        handle.visible = true;\n        handle.rotation.set(0, 0, 0);\n        handle.position.copy(_this2.worldPosition);\n        var factor = void 0;\n        if (_this2.camera.isOrthographicCamera) {\n          factor = (_this2.camera.top - _this2.camera.bottom) / _this2.camera.zoom;\n        } else {\n          factor = _this2.worldPosition.distanceTo(_this2.cameraPosition) * Math.min(1.9 * Math.tan(Math.PI * _this2.camera.fov / 360) / _this2.camera.zoom, 7);\n        }\n        handle.scale.set(1, 1, 1).multiplyScalar(factor * _this2.size / 7); // TODO: simplify helpers and consider decoupling from gizmo\n\n        if (handle.tag === 'helper') {\n          handle.visible = false;\n          if (handle.name === 'AXIS') {\n            handle.position.copy(_this2.worldPositionStart);\n            handle.visible = !!_this2.axis;\n            if (_this2.axis === 'X') {\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, 0, 0));\n              handle.quaternion.copy(quaternion).multiply(_this2.tempQuaternion);\n              if (Math.abs(_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n            if (_this2.axis === 'Y') {\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, 0, Math.PI / 2));\n              handle.quaternion.copy(quaternion).multiply(_this2.tempQuaternion);\n              if (Math.abs(_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n            if (_this2.axis === 'Z') {\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, Math.PI / 2, 0));\n              handle.quaternion.copy(quaternion).multiply(_this2.tempQuaternion);\n              if (Math.abs(_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n            if (_this2.axis === 'XYZE') {\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, Math.PI / 2, 0));\n              _this2.alignVector.copy(_this2.rotationAxis);\n              handle.quaternion.setFromRotationMatrix(_this2.lookAtMatrix.lookAt(_this2.zeroVector, _this2.alignVector, _this2.unitY));\n              handle.quaternion.multiply(_this2.tempQuaternion);\n              handle.visible = _this2.dragging;\n            }\n            if (_this2.axis === 'E') {\n              handle.visible = false;\n            }\n          } else if (handle.name === 'START') {\n            handle.position.copy(_this2.worldPositionStart);\n            handle.visible = _this2.dragging;\n          } else if (handle.name === 'END') {\n            handle.position.copy(_this2.worldPosition);\n            handle.visible = _this2.dragging;\n          } else if (handle.name === 'DELTA') {\n            handle.position.copy(_this2.worldPositionStart);\n            handle.quaternion.copy(_this2.worldQuaternionStart);\n            _this2.tempVector.set(1e-10, 1e-10, 1e-10).add(_this2.worldPositionStart).sub(_this2.worldPosition).multiplyScalar(-1);\n            _this2.tempVector.applyQuaternion(_this2.worldQuaternionStart.clone().invert());\n            handle.scale.copy(_this2.tempVector);\n            handle.visible = _this2.dragging;\n          } else {\n            handle.quaternion.copy(quaternion);\n            if (_this2.dragging) {\n              handle.position.copy(_this2.worldPositionStart);\n            } else {\n              handle.position.copy(_this2.worldPosition);\n            }\n            if (_this2.axis) {\n              handle.visible = _this2.axis.search(handle.name) !== -1;\n            }\n          } // If updating helper, skip rest of the loop\n\n          return \"continue\";\n        } // Align handles to current local or world rotation\n\n        handle.quaternion.copy(quaternion);\n        if (_this2.mode === 'translate' || _this2.mode === 'scale') {\n          // Hide translate and scale axis facing the camera\n          var AXIS_HIDE_TRESHOLD = 0.99;\n          var PLANE_HIDE_TRESHOLD = 0.2;\n          var AXIS_FLIP_TRESHOLD = 0.0;\n          if (handle.name === 'X' || handle.name === 'XYZX') {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === 'Y' || handle.name === 'XYZY') {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === 'Z' || handle.name === 'XYZZ') {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === 'XY') {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === 'YZ') {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === 'XZ') {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          } // Flip translate and scale axis ocluded behind another axis\n\n          if (handle.name.search('X') !== -1) {\n            if (_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === 'fwd') {\n                handle.visible = false;\n              } else {\n                handle.scale.x *= -1;\n              }\n            } else if (handle.tag === 'bwd') {\n              handle.visible = false;\n            }\n          }\n          if (handle.name.search('Y') !== -1) {\n            if (_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === 'fwd') {\n                handle.visible = false;\n              } else {\n                handle.scale.y *= -1;\n              }\n            } else if (handle.tag === 'bwd') {\n              handle.visible = false;\n            }\n          }\n          if (handle.name.search('Z') !== -1) {\n            if (_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === 'fwd') {\n                handle.visible = false;\n              } else {\n                handle.scale.z *= -1;\n              }\n            } else if (handle.tag === 'bwd') {\n              handle.visible = false;\n            }\n          }\n        } else if (_this2.mode === 'rotate') {\n          // Align handles to current local or world rotation\n          _this2.tempQuaternion2.copy(quaternion);\n          _this2.alignVector.copy(_this2.eye).applyQuaternion(_this2.tempQuaternion.copy(quaternion).invert());\n          if (handle.name.search('E') !== -1) {\n            handle.quaternion.setFromRotationMatrix(_this2.lookAtMatrix.lookAt(_this2.eye, _this2.zeroVector, _this2.unitY));\n          }\n          if (handle.name === 'X') {\n            _this2.tempQuaternion.setFromAxisAngle(_this2.unitX, Math.atan2(-_this2.alignVector.y, _this2.alignVector.z));\n            _this2.tempQuaternion.multiplyQuaternions(_this2.tempQuaternion2, _this2.tempQuaternion);\n            handle.quaternion.copy(_this2.tempQuaternion);\n          }\n          if (handle.name === 'Y') {\n            _this2.tempQuaternion.setFromAxisAngle(_this2.unitY, Math.atan2(_this2.alignVector.x, _this2.alignVector.z));\n            _this2.tempQuaternion.multiplyQuaternions(_this2.tempQuaternion2, _this2.tempQuaternion);\n            handle.quaternion.copy(_this2.tempQuaternion);\n          }\n          if (handle.name === 'Z') {\n            _this2.tempQuaternion.setFromAxisAngle(_this2.unitZ, Math.atan2(_this2.alignVector.y, _this2.alignVector.x));\n            _this2.tempQuaternion.multiplyQuaternions(_this2.tempQuaternion2, _this2.tempQuaternion);\n            handle.quaternion.copy(_this2.tempQuaternion);\n          }\n        } // Hide disabled axes\n\n        handle.visible = handle.visible && (handle.name.indexOf('X') === -1 || _this2.showX);\n        handle.visible = handle.visible && (handle.name.indexOf('Y') === -1 || _this2.showY);\n        handle.visible = handle.visible && (handle.name.indexOf('Z') === -1 || _this2.showZ);\n        handle.visible = handle.visible && (handle.name.indexOf('E') === -1 || _this2.showX && _this2.showY && _this2.showZ); // highlight selected axis\n        //@ts-ignore\n\n        handle.material.tempOpacity = handle.material.tempOpacity || handle.material.opacity; //@ts-ignore\n\n        handle.material.tempColor = handle.material.tempColor || handle.material.color.clone(); //@ts-ignore\n\n        handle.material.color.copy(handle.material.tempColor); //@ts-ignore\n\n        handle.material.opacity = handle.material.tempOpacity;\n        if (!_this2.enabled) {\n          //@ts-ignore\n          handle.material.opacity *= 0.5; //@ts-ignore\n\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n        } else if (_this2.axis) {\n          if (handle.name === _this2.axis) {\n            //@ts-ignore\n            handle.material.opacity = 1.0; //@ts-ignore\n\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          } else if (_this2.axis.split('').some(function (a) {\n            return handle.name === a;\n          })) {\n            //@ts-ignore\n            handle.material.opacity = 1.0; //@ts-ignore\n\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          } else {\n            //@ts-ignore\n            handle.material.opacity *= 0.25; //@ts-ignore\n\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          }\n        }\n      };\n      for (var i = 0; i < handles.length; i++) {\n        var _ret = _loop(i);\n        if (_ret === \"continue\") continue;\n      }\n      _get((_thisSuper2 = _assertThisInitialized(_this2), _getPrototypeOf(TransformControlsGizmo.prototype)), \"updateMatrixWorld\", _thisSuper2).call(_thisSuper2);\n    });\n    var gizmoMaterial = new MeshBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      side: DoubleSide,\n      fog: false,\n      toneMapped: false\n    });\n    var gizmoLineMaterial = new LineBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      linewidth: 1,\n      fog: false,\n      toneMapped: false\n    }); // Make unique material for each axis/color\n\n    var matInvisible = gizmoMaterial.clone();\n    matInvisible.opacity = 0.15;\n    var matHelper = gizmoMaterial.clone();\n    matHelper.opacity = 0.33;\n    var matRed = gizmoMaterial.clone();\n    matRed.color.set(0xff0000);\n    var matGreen = gizmoMaterial.clone();\n    matGreen.color.set(0x00ff00);\n    var matBlue = gizmoMaterial.clone();\n    matBlue.color.set(0x0000ff);\n    var matWhiteTransparent = gizmoMaterial.clone();\n    matWhiteTransparent.opacity = 0.25;\n    var matYellowTransparent = matWhiteTransparent.clone();\n    matYellowTransparent.color.set(0xffff00);\n    var matCyanTransparent = matWhiteTransparent.clone();\n    matCyanTransparent.color.set(0x00ffff);\n    var matMagentaTransparent = matWhiteTransparent.clone();\n    matMagentaTransparent.color.set(0xff00ff);\n    var matYellow = gizmoMaterial.clone();\n    matYellow.color.set(0xffff00);\n    var matLineRed = gizmoLineMaterial.clone();\n    matLineRed.color.set(0xff0000);\n    var matLineGreen = gizmoLineMaterial.clone();\n    matLineGreen.color.set(0x00ff00);\n    var matLineBlue = gizmoLineMaterial.clone();\n    matLineBlue.color.set(0x0000ff);\n    var matLineCyan = gizmoLineMaterial.clone();\n    matLineCyan.color.set(0x00ffff);\n    var matLineMagenta = gizmoLineMaterial.clone();\n    matLineMagenta.color.set(0xff00ff);\n    var matLineYellow = gizmoLineMaterial.clone();\n    matLineYellow.color.set(0xffff00);\n    var matLineGray = gizmoLineMaterial.clone();\n    matLineGray.color.set(0x787878);\n    var matLineYellowTransparent = matLineYellow.clone();\n    matLineYellowTransparent.opacity = 0.25; // reusable geometry\n\n    var arrowGeometry = new CylinderGeometry(0, 0.05, 0.2, 12, 1, false);\n    var scaleHandleGeometry = new BoxGeometry(0.125, 0.125, 0.125);\n    var lineGeometry = new BufferGeometry();\n    lineGeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n    var CircleGeometry = function CircleGeometry(radius, arc) {\n      var geometry = new BufferGeometry();\n      var vertices = [];\n      for (var i = 0; i <= 64 * arc; ++i) {\n        vertices.push(0, Math.cos(i / 32 * Math.PI) * radius, Math.sin(i / 32 * Math.PI) * radius);\n      }\n      geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n      return geometry;\n    }; // Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\n\n    var TranslateHelperGeometry = function TranslateHelperGeometry() {\n      var geometry = new BufferGeometry();\n      geometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 1, 1], 3));\n      return geometry;\n    }; // Gizmo definitions - custom hierarchy definitions for setupGizmo() function\n\n    var gizmoTranslate = {\n      X: [[new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, -Math.PI / 2], null, 'fwd'], [new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, Math.PI / 2], null, 'bwd'], [new Line(lineGeometry, matLineRed)]],\n      Y: [[new Mesh(arrowGeometry, matGreen), [0, 1, 0], null, null, 'fwd'], [new Mesh(arrowGeometry, matGreen), [0, 1, 0], [Math.PI, 0, 0], null, 'bwd'], [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2]]],\n      Z: [[new Mesh(arrowGeometry, matBlue), [0, 0, 1], [Math.PI / 2, 0, 0], null, 'fwd'], [new Mesh(arrowGeometry, matBlue), [0, 0, 1], [-Math.PI / 2, 0, 0], null, 'bwd'], [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0]]],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.1, 0), matWhiteTransparent.clone()), [0, 0, 0], [0, 0, 0]]],\n      XY: [[new Mesh(new PlaneGeometry(0.295, 0.295), matYellowTransparent.clone()), [0.15, 0.15, 0]], [new Line(lineGeometry, matLineYellow), [0.18, 0.3, 0], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineYellow), [0.3, 0.18, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\n      YZ: [[new Mesh(new PlaneGeometry(0.295, 0.295), matCyanTransparent.clone()), [0, 0.15, 0.15], [0, Math.PI / 2, 0]], [new Line(lineGeometry, matLineCyan), [0, 0.18, 0.3], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new Line(lineGeometry, matLineCyan), [0, 0.3, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XZ: [[new Mesh(new PlaneGeometry(0.295, 0.295), matMagentaTransparent.clone()), [0.15, 0, 0.15], [-Math.PI / 2, 0, 0]], [new Line(lineGeometry, matLineMagenta), [0.18, 0, 0.3], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineMagenta), [0.3, 0, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]]\n    };\n    var pickerTranslate = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0.6, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.2, 0), matInvisible)]],\n      XY: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0.2, 0]]],\n      YZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]],\n      XZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]]\n    };\n    var helperTranslate = {\n      START: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n      END: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n      DELTA: [[new Line(TranslateHelperGeometry(), matHelper), null, null, null, 'helper']],\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']]\n    };\n    var gizmoRotate = {\n      X: [[new Line(CircleGeometry(1, 0.5), matLineRed)], [new Mesh(new OctahedronGeometry(0.04, 0), matRed), [0, 0, 0.99], null, [1, 3, 1]]],\n      Y: [[new Line(CircleGeometry(1, 0.5), matLineGreen), null, [0, 0, -Math.PI / 2]], [new Mesh(new OctahedronGeometry(0.04, 0), matGreen), [0, 0, 0.99], null, [3, 1, 1]]],\n      Z: [[new Line(CircleGeometry(1, 0.5), matLineBlue), null, [0, Math.PI / 2, 0]], [new Mesh(new OctahedronGeometry(0.04, 0), matBlue), [0.99, 0, 0], null, [1, 3, 1]]],\n      E: [[new Line(CircleGeometry(1.25, 1), matLineYellowTransparent), null, [0, Math.PI / 2, 0]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [1.17, 0, 0], [0, 0, -Math.PI / 2], [1, 1, 0.001]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [-1.17, 0, 0], [0, 0, Math.PI / 2], [1, 1, 0.001]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, -1.17, 0], [Math.PI, 0, 0], [1, 1, 0.001]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, 1.17, 0], [0, 0, 0], [1, 1, 0.001]]],\n      XYZE: [[new Line(CircleGeometry(1, 1), matLineGray), null, [0, Math.PI / 2, 0]]]\n    };\n    var helperRotate = {\n      AXIS: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']]\n    };\n    var pickerRotate = {\n      X: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]]],\n      Y: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [Math.PI / 2, 0, 0]]],\n      Z: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, 0, -Math.PI / 2]]],\n      E: [[new Mesh(new TorusGeometry(1.25, 0.1, 2, 24), matInvisible)]],\n      XYZE: [[new Mesh(new SphereGeometry(0.7, 10, 8), matInvisible)]]\n    };\n    var gizmoScale = {\n      X: [[new Mesh(scaleHandleGeometry, matRed), [0.8, 0, 0], [0, 0, -Math.PI / 2]], [new Line(lineGeometry, matLineRed), null, null, [0.8, 1, 1]]],\n      Y: [[new Mesh(scaleHandleGeometry, matGreen), [0, 0.8, 0]], [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2], [0.8, 1, 1]]],\n      Z: [[new Mesh(scaleHandleGeometry, matBlue), [0, 0, 0.8], [Math.PI / 2, 0, 0]], [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0], [0.8, 1, 1]]],\n      XY: [[new Mesh(scaleHandleGeometry, matYellowTransparent), [0.85, 0.85, 0], null, [2, 2, 0.2]], [new Line(lineGeometry, matLineYellow), [0.855, 0.98, 0], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineYellow), [0.98, 0.855, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\n      YZ: [[new Mesh(scaleHandleGeometry, matCyanTransparent), [0, 0.85, 0.85], null, [0.2, 2, 2]], [new Line(lineGeometry, matLineCyan), [0, 0.855, 0.98], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new Line(lineGeometry, matLineCyan), [0, 0.98, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XZ: [[new Mesh(scaleHandleGeometry, matMagentaTransparent), [0.85, 0, 0.85], null, [2, 0.2, 2]], [new Line(lineGeometry, matLineMagenta), [0.855, 0, 0.98], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineMagenta), [0.98, 0, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XYZX: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 0, 1.1]]]\n    };\n    var pickerScale = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0.5, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0.5, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0, 0.5], [Math.PI / 2, 0, 0]]],\n      XY: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0.85, 0], null, [3, 3, 0.2]]],\n      YZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0, 0.85, 0.85], null, [0.2, 3, 3]]],\n      XZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0, 0.85], null, [3, 0.2, 3]]],\n      XYZX: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 0, 1.1]]]\n    };\n    var helperScale = {\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']]\n    }; // Creates an Object3D with gizmos described in custom hierarchy definition.\n    // this is nearly impossible to Type so i'm leaving it\n\n    var setupGizmo = function setupGizmo(gizmoMap) {\n      var gizmo = new Object3D();\n      for (var name in gizmoMap) {\n        for (var i = gizmoMap[name].length; i--;) {\n          var object = gizmoMap[name][i][0].clone();\n          var position = gizmoMap[name][i][1];\n          var rotation = gizmoMap[name][i][2];\n          var scale = gizmoMap[name][i][3];\n          var tag = gizmoMap[name][i][4]; // name and tag properties are essential for picking and updating logic.\n\n          object.name = name; // @ts-ignore\n\n          object.tag = tag;\n          if (position) {\n            object.position.set(position[0], position[1], position[2]);\n          }\n          if (rotation) {\n            object.rotation.set(rotation[0], rotation[1], rotation[2]);\n          }\n          if (scale) {\n            object.scale.set(scale[0], scale[1], scale[2]);\n          }\n          object.updateMatrix();\n          var tempGeometry = object.geometry.clone();\n          tempGeometry.applyMatrix4(object.matrix);\n          object.geometry = tempGeometry;\n          object.renderOrder = Infinity;\n          object.position.set(0, 0, 0);\n          object.rotation.set(0, 0, 0);\n          object.scale.set(1, 1, 1);\n          gizmo.add(object);\n        }\n      }\n      return gizmo;\n    };\n    _this2.gizmo = {};\n    _this2.picker = {};\n    _this2.helper = {};\n    _this2.add(_this2.gizmo['translate'] = setupGizmo(gizmoTranslate));\n    _this2.add(_this2.gizmo['rotate'] = setupGizmo(gizmoRotate));\n    _this2.add(_this2.gizmo['scale'] = setupGizmo(gizmoScale));\n    _this2.add(_this2.picker['translate'] = setupGizmo(pickerTranslate));\n    _this2.add(_this2.picker['rotate'] = setupGizmo(pickerRotate));\n    _this2.add(_this2.picker['scale'] = setupGizmo(pickerScale));\n    _this2.add(_this2.helper['translate'] = setupGizmo(helperTranslate));\n    _this2.add(_this2.helper['rotate'] = setupGizmo(helperRotate));\n    _this2.add(_this2.helper['scale'] = setupGizmo(helperScale)); // Pickers should be hidden always\n\n    _this2.picker['translate'].visible = false;\n    _this2.picker['rotate'].visible = false;\n    _this2.picker['scale'].visible = false;\n    return _this2;\n  } // updateMatrixWorld will update transformations and appearance of individual handles\n  return _createClass(TransformControlsGizmo);\n}(Object3D);\nvar TransformControlsPlane = /*#__PURE__*/function (_Mesh) {\n  _inherits(TransformControlsPlane, _Mesh);\n  var _super3 = _createSuper(TransformControlsPlane);\n  function TransformControlsPlane() {\n    var _thisSuper3, _this3;\n    _classCallCheck(this, TransformControlsPlane);\n    _this3 = _super3.call(this, new PlaneGeometry(100000, 100000, 2, 2), new MeshBasicMaterial({\n      visible: false,\n      wireframe: true,\n      side: DoubleSide,\n      transparent: true,\n      opacity: 0.1,\n      toneMapped: false\n    }));\n    _defineProperty(_assertThisInitialized(_this3), \"isTransformControlsPlane\", true);\n    _defineProperty(_assertThisInitialized(_this3), \"type\", 'TransformControlsPlane');\n    _defineProperty(_assertThisInitialized(_this3), \"unitX\", new Vector3(1, 0, 0));\n    _defineProperty(_assertThisInitialized(_this3), \"unitY\", new Vector3(0, 1, 0));\n    _defineProperty(_assertThisInitialized(_this3), \"unitZ\", new Vector3(0, 0, 1));\n    _defineProperty(_assertThisInitialized(_this3), \"tempVector\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this3), \"dirVector\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this3), \"alignVector\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this3), \"tempMatrix\", new Matrix4());\n    _defineProperty(_assertThisInitialized(_this3), \"identityQuaternion\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this3), \"cameraQuaternion\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this3), \"worldPosition\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this3), \"worldQuaternion\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this3), \"eye\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this3), \"axis\", null);\n    _defineProperty(_assertThisInitialized(_this3), \"mode\", 'translate');\n    _defineProperty(_assertThisInitialized(_this3), \"space\", 'world');\n    _defineProperty(_assertThisInitialized(_this3), \"updateMatrixWorld\", function () {\n      var space = _this3.space;\n      _this3.position.copy(_this3.worldPosition);\n      if (_this3.mode === 'scale') space = 'local'; // scale always oriented to local rotation\n\n      _this3.unitX.set(1, 0, 0).applyQuaternion(space === 'local' ? _this3.worldQuaternion : _this3.identityQuaternion);\n      _this3.unitY.set(0, 1, 0).applyQuaternion(space === 'local' ? _this3.worldQuaternion : _this3.identityQuaternion);\n      _this3.unitZ.set(0, 0, 1).applyQuaternion(space === 'local' ? _this3.worldQuaternion : _this3.identityQuaternion); // Align the plane for current transform mode, axis and space.\n\n      _this3.alignVector.copy(_this3.unitY);\n      switch (_this3.mode) {\n        case 'translate':\n        case 'scale':\n          switch (_this3.axis) {\n            case 'X':\n              _this3.alignVector.copy(_this3.eye).cross(_this3.unitX);\n              _this3.dirVector.copy(_this3.unitX).cross(_this3.alignVector);\n              break;\n            case 'Y':\n              _this3.alignVector.copy(_this3.eye).cross(_this3.unitY);\n              _this3.dirVector.copy(_this3.unitY).cross(_this3.alignVector);\n              break;\n            case 'Z':\n              _this3.alignVector.copy(_this3.eye).cross(_this3.unitZ);\n              _this3.dirVector.copy(_this3.unitZ).cross(_this3.alignVector);\n              break;\n            case 'XY':\n              _this3.dirVector.copy(_this3.unitZ);\n              break;\n            case 'YZ':\n              _this3.dirVector.copy(_this3.unitX);\n              break;\n            case 'XZ':\n              _this3.alignVector.copy(_this3.unitZ);\n              _this3.dirVector.copy(_this3.unitY);\n              break;\n            case 'XYZ':\n            case 'E':\n              _this3.dirVector.set(0, 0, 0);\n              break;\n          }\n          break;\n        case 'rotate':\n        default:\n          // special case for rotate\n          _this3.dirVector.set(0, 0, 0);\n      }\n      if (_this3.dirVector.length() === 0) {\n        // If in rotate mode, make the plane parallel to camera\n        _this3.quaternion.copy(_this3.cameraQuaternion);\n      } else {\n        _this3.tempMatrix.lookAt(_this3.tempVector.set(0, 0, 0), _this3.dirVector, _this3.alignVector);\n        _this3.quaternion.setFromRotationMatrix(_this3.tempMatrix);\n      }\n      _get((_thisSuper3 = _assertThisInitialized(_this3), _getPrototypeOf(TransformControlsPlane.prototype)), \"updateMatrixWorld\", _thisSuper3).call(_thisSuper3);\n    });\n    return _this3;\n  }\n  return _createClass(TransformControlsPlane);\n}(Mesh);\nexport { TransformControls, TransformControlsGizmo, TransformControlsPlane };","map":{"version":3,"names":["_defineProperty","Object3D","Raycaster","Vector3","Quaternion","Euler","Matrix4","Color","MeshBasicMaterial","DoubleSide","LineBasicMaterial","CylinderGeometry","BoxGeometry","BufferGeometry","Float32BufferAttribute","Mesh","Line","OctahedronGeometry","PlaneGeometry","TorusGeometry","SphereGeometry","TransformControls","camera","_domElement","X","Y","Z","type","mode","object","raycaster","includeInvisible","allIntersections","intersectObject","i","length","visible","undefined","axis","enabled","dragging","position","copy","positionStart","quaternion","quaternionStart","scale","scaleStart","dispatchEvent","changeEvent","objectChangeEvent","pointStart","pointEnd","updateMatrixWorld","parent","console","error","matrixWorld","decompose","parentPosition","parentQuaternion","parentScale","worldPosition","worldQuaternion","worldScale","parentQuaternionInv","invert","worldQuaternionInv","cameraPosition","cameraQuaternion","cameraScale","eye","sub","normalize","pointer","setFromCamera","intersect","intersectObjectWithRay","gizmo","picker","name","button","planeIntersect","plane","space","snap","rotationSnap","rotation","x","Math","round","y","z","worldPositionStart","worldQuaternionStart","worldScaleStart","point","mouseDownEvent","offset","applyQuaternion","indexOf","divide","add","translationSnap","tempQuaternion","search","tempVector","setFromMatrixPosition","d","dot","tempVector2","set","multiply","scaleSnap","ROTATION_SPEED","distanceTo","rotationAxis","rotationAngle","angleTo","startNorm","endNorm","cross","unit","setFromAxisAngle","mouseUpEvent","event","_this$domElement$owne","domElement","ownerDocument","pointerLockElement","_this$domElement","changedTouches","rect","getBoundingClientRect","clientX","left","width","clientY","top","height","pointerType","pointerHover","getPointer","style","touchAction","addEventListener","onPointerMove","pointerDown","pointerMove","removeEventListener","pointerUp","size","warn","document","onPointerDown","onPointerHover","onPointerUp","_this$domElement2","_this$domElement3","_this$domElement4","_this$domElement4$own","_this$domElement5","_this$domElement5$own","traverse","child","mesh","geometry","dispose","material","TransformControlsGizmo","TransformControlsPlane","defineProperty","propName","defaultValue","propValue","Object","get","value","showX","showY","showZ","connect","identityQuaternion","helper","handles","concat","children","handle","factor","isOrthographicCamera","bottom","zoom","min","tan","PI","fov","multiplyScalar","tag","setFromEuler","tempEuler","abs","alignVector","unitX","unitY","unitZ","setFromRotationMatrix","lookAtMatrix","lookAt","zeroVector","clone","AXIS_HIDE_TRESHOLD","PLANE_HIDE_TRESHOLD","AXIS_FLIP_TRESHOLD","tempQuaternion2","atan2","multiplyQuaternions","tempOpacity","opacity","tempColor","color","lerp","split","some","a","gizmoMaterial","depthTest","depthWrite","transparent","side","fog","toneMapped","gizmoLineMaterial","linewidth","matInvisible","matHelper","matRed","matGreen","matBlue","matWhiteTransparent","matYellowTransparent","matCyanTransparent","matMagentaTransparent","matYellow","matLineRed","matLineGreen","matLineBlue","matLineCyan","matLineMagenta","matLineYellow","matLineGray","matLineYellowTransparent","arrowGeometry","scaleHandleGeometry","lineGeometry","setAttribute","CircleGeometry","radius","arc","vertices","push","cos","sin","TranslateHelperGeometry","gizmoTranslate","XYZ","XY","YZ","XZ","pickerTranslate","helperTranslate","START","END","DELTA","gizmoRotate","E","XYZE","helperRotate","AXIS","pickerRotate","gizmoScale","XYZX","XYZY","XYZZ","pickerScale","helperScale","setupGizmo","gizmoMap","updateMatrix","tempGeometry","applyMatrix4","matrix","renderOrder","Infinity","wireframe","dirVector","tempMatrix"],"sources":["/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/three-stdlib/controls/TransformControls.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { Object3D, Raycaster, Vector3, Quaternion, Euler, Matrix4, Color, MeshBasicMaterial, DoubleSide, LineBasicMaterial, CylinderGeometry, BoxGeometry, BufferGeometry, Float32BufferAttribute, Mesh, Line, OctahedronGeometry, PlaneGeometry, TorusGeometry, SphereGeometry } from 'three';\n\nclass TransformControls extends Object3D {\n  // events\n  constructor(camera, _domElement) {\n    super();\n\n    _defineProperty(this, \"isTransformControls\", true);\n\n    _defineProperty(this, \"visible\", false);\n\n    _defineProperty(this, \"domElement\", void 0);\n\n    _defineProperty(this, \"raycaster\", new Raycaster());\n\n    _defineProperty(this, \"gizmo\", void 0);\n\n    _defineProperty(this, \"plane\", void 0);\n\n    _defineProperty(this, \"tempVector\", new Vector3());\n\n    _defineProperty(this, \"tempVector2\", new Vector3());\n\n    _defineProperty(this, \"tempQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"unit\", {\n      X: new Vector3(1, 0, 0),\n      Y: new Vector3(0, 1, 0),\n      Z: new Vector3(0, 0, 1)\n    });\n\n    _defineProperty(this, \"pointStart\", new Vector3());\n\n    _defineProperty(this, \"pointEnd\", new Vector3());\n\n    _defineProperty(this, \"offset\", new Vector3());\n\n    _defineProperty(this, \"rotationAxis\", new Vector3());\n\n    _defineProperty(this, \"startNorm\", new Vector3());\n\n    _defineProperty(this, \"endNorm\", new Vector3());\n\n    _defineProperty(this, \"rotationAngle\", 0);\n\n    _defineProperty(this, \"cameraPosition\", new Vector3());\n\n    _defineProperty(this, \"cameraQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"cameraScale\", new Vector3());\n\n    _defineProperty(this, \"parentPosition\", new Vector3());\n\n    _defineProperty(this, \"parentQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"parentQuaternionInv\", new Quaternion());\n\n    _defineProperty(this, \"parentScale\", new Vector3());\n\n    _defineProperty(this, \"worldPositionStart\", new Vector3());\n\n    _defineProperty(this, \"worldQuaternionStart\", new Quaternion());\n\n    _defineProperty(this, \"worldScaleStart\", new Vector3());\n\n    _defineProperty(this, \"worldPosition\", new Vector3());\n\n    _defineProperty(this, \"worldQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"worldQuaternionInv\", new Quaternion());\n\n    _defineProperty(this, \"worldScale\", new Vector3());\n\n    _defineProperty(this, \"eye\", new Vector3());\n\n    _defineProperty(this, \"positionStart\", new Vector3());\n\n    _defineProperty(this, \"quaternionStart\", new Quaternion());\n\n    _defineProperty(this, \"scaleStart\", new Vector3());\n\n    _defineProperty(this, \"camera\", void 0);\n\n    _defineProperty(this, \"object\", void 0);\n\n    _defineProperty(this, \"enabled\", true);\n\n    _defineProperty(this, \"axis\", null);\n\n    _defineProperty(this, \"mode\", 'translate');\n\n    _defineProperty(this, \"translationSnap\", null);\n\n    _defineProperty(this, \"rotationSnap\", null);\n\n    _defineProperty(this, \"scaleSnap\", null);\n\n    _defineProperty(this, \"space\", 'world');\n\n    _defineProperty(this, \"size\", 1);\n\n    _defineProperty(this, \"dragging\", false);\n\n    _defineProperty(this, \"showX\", true);\n\n    _defineProperty(this, \"showY\", true);\n\n    _defineProperty(this, \"showZ\", true);\n\n    _defineProperty(this, \"changeEvent\", {\n      type: 'change'\n    });\n\n    _defineProperty(this, \"mouseDownEvent\", {\n      type: 'mouseDown',\n      mode: this.mode\n    });\n\n    _defineProperty(this, \"mouseUpEvent\", {\n      type: 'mouseUp',\n      mode: this.mode\n    });\n\n    _defineProperty(this, \"objectChangeEvent\", {\n      type: 'objectChange'\n    });\n\n    _defineProperty(this, \"intersectObjectWithRay\", (object, raycaster, includeInvisible) => {\n      const allIntersections = raycaster.intersectObject(object, true);\n\n      for (let i = 0; i < allIntersections.length; i++) {\n        if (allIntersections[i].object.visible || includeInvisible) {\n          return allIntersections[i];\n        }\n      }\n\n      return false;\n    });\n\n    _defineProperty(this, \"attach\", object => {\n      this.object = object;\n      this.visible = true;\n      return this;\n    });\n\n    _defineProperty(this, \"detach\", () => {\n      this.object = undefined;\n      this.visible = false;\n      this.axis = null;\n      return this;\n    });\n\n    _defineProperty(this, \"reset\", () => {\n      if (!this.enabled) return this;\n\n      if (this.dragging) {\n        if (this.object !== undefined) {\n          this.object.position.copy(this.positionStart);\n          this.object.quaternion.copy(this.quaternionStart);\n          this.object.scale.copy(this.scaleStart);\n          this.dispatchEvent(this.changeEvent);\n          this.dispatchEvent(this.objectChangeEvent);\n          this.pointStart.copy(this.pointEnd);\n        }\n      }\n\n      return this;\n    });\n\n    _defineProperty(this, \"updateMatrixWorld\", () => {\n      if (this.object !== undefined) {\n        this.object.updateMatrixWorld();\n\n        if (this.object.parent === null) {\n          console.error('TransformControls: The attached 3D object must be a part of the scene graph.');\n        } else {\n          this.object.parent.matrixWorld.decompose(this.parentPosition, this.parentQuaternion, this.parentScale);\n        }\n\n        this.object.matrixWorld.decompose(this.worldPosition, this.worldQuaternion, this.worldScale);\n        this.parentQuaternionInv.copy(this.parentQuaternion).invert();\n        this.worldQuaternionInv.copy(this.worldQuaternion).invert();\n      }\n\n      this.camera.updateMatrixWorld();\n      this.camera.matrixWorld.decompose(this.cameraPosition, this.cameraQuaternion, this.cameraScale);\n      this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize();\n      super.updateMatrixWorld();\n    });\n\n    _defineProperty(this, \"pointerHover\", pointer => {\n      if (this.object === undefined || this.dragging === true) return;\n      this.raycaster.setFromCamera(pointer, this.camera);\n      const intersect = this.intersectObjectWithRay(this.gizmo.picker[this.mode], this.raycaster);\n\n      if (intersect) {\n        this.axis = intersect.object.name;\n      } else {\n        this.axis = null;\n      }\n    });\n\n    _defineProperty(this, \"pointerDown\", pointer => {\n      if (this.object === undefined || this.dragging === true || pointer.button !== 0) return;\n\n      if (this.axis !== null) {\n        this.raycaster.setFromCamera(pointer, this.camera);\n        const planeIntersect = this.intersectObjectWithRay(this.plane, this.raycaster, true);\n\n        if (planeIntersect) {\n          let space = this.space;\n\n          if (this.mode === 'scale') {\n            space = 'local';\n          } else if (this.axis === 'E' || this.axis === 'XYZE' || this.axis === 'XYZ') {\n            space = 'world';\n          }\n\n          if (space === 'local' && this.mode === 'rotate') {\n            const snap = this.rotationSnap;\n            if (this.axis === 'X' && snap) this.object.rotation.x = Math.round(this.object.rotation.x / snap) * snap;\n            if (this.axis === 'Y' && snap) this.object.rotation.y = Math.round(this.object.rotation.y / snap) * snap;\n            if (this.axis === 'Z' && snap) this.object.rotation.z = Math.round(this.object.rotation.z / snap) * snap;\n          }\n\n          this.object.updateMatrixWorld();\n\n          if (this.object.parent) {\n            this.object.parent.updateMatrixWorld();\n          }\n\n          this.positionStart.copy(this.object.position);\n          this.quaternionStart.copy(this.object.quaternion);\n          this.scaleStart.copy(this.object.scale);\n          this.object.matrixWorld.decompose(this.worldPositionStart, this.worldQuaternionStart, this.worldScaleStart);\n          this.pointStart.copy(planeIntersect.point).sub(this.worldPositionStart);\n        }\n\n        this.dragging = true;\n        this.mouseDownEvent.mode = this.mode;\n        this.dispatchEvent(this.mouseDownEvent);\n      }\n    });\n\n    _defineProperty(this, \"pointerMove\", pointer => {\n      const axis = this.axis;\n      const mode = this.mode;\n      const object = this.object;\n      let space = this.space;\n\n      if (mode === 'scale') {\n        space = 'local';\n      } else if (axis === 'E' || axis === 'XYZE' || axis === 'XYZ') {\n        space = 'world';\n      }\n\n      if (object === undefined || axis === null || this.dragging === false || pointer.button !== -1) return;\n      this.raycaster.setFromCamera(pointer, this.camera);\n      const planeIntersect = this.intersectObjectWithRay(this.plane, this.raycaster, true);\n      if (!planeIntersect) return;\n      this.pointEnd.copy(planeIntersect.point).sub(this.worldPositionStart);\n\n      if (mode === 'translate') {\n        // Apply translate\n        this.offset.copy(this.pointEnd).sub(this.pointStart);\n\n        if (space === 'local' && axis !== 'XYZ') {\n          this.offset.applyQuaternion(this.worldQuaternionInv);\n        }\n\n        if (axis.indexOf('X') === -1) this.offset.x = 0;\n        if (axis.indexOf('Y') === -1) this.offset.y = 0;\n        if (axis.indexOf('Z') === -1) this.offset.z = 0;\n\n        if (space === 'local' && axis !== 'XYZ') {\n          this.offset.applyQuaternion(this.quaternionStart).divide(this.parentScale);\n        } else {\n          this.offset.applyQuaternion(this.parentQuaternionInv).divide(this.parentScale);\n        }\n\n        object.position.copy(this.offset).add(this.positionStart); // Apply translation snap\n\n        if (this.translationSnap) {\n          if (space === 'local') {\n            object.position.applyQuaternion(this.tempQuaternion.copy(this.quaternionStart).invert());\n\n            if (axis.search('X') !== -1) {\n              object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap;\n            }\n\n            if (axis.search('Y') !== -1) {\n              object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap;\n            }\n\n            if (axis.search('Z') !== -1) {\n              object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap;\n            }\n\n            object.position.applyQuaternion(this.quaternionStart);\n          }\n\n          if (space === 'world') {\n            if (object.parent) {\n              object.position.add(this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n\n            if (axis.search('X') !== -1) {\n              object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap;\n            }\n\n            if (axis.search('Y') !== -1) {\n              object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap;\n            }\n\n            if (axis.search('Z') !== -1) {\n              object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap;\n            }\n\n            if (object.parent) {\n              object.position.sub(this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n          }\n        }\n      } else if (mode === 'scale') {\n        if (axis.search('XYZ') !== -1) {\n          let d = this.pointEnd.length() / this.pointStart.length();\n          if (this.pointEnd.dot(this.pointStart) < 0) d *= -1;\n          this.tempVector2.set(d, d, d);\n        } else {\n          this.tempVector.copy(this.pointStart);\n          this.tempVector2.copy(this.pointEnd);\n          this.tempVector.applyQuaternion(this.worldQuaternionInv);\n          this.tempVector2.applyQuaternion(this.worldQuaternionInv);\n          this.tempVector2.divide(this.tempVector);\n\n          if (axis.search('X') === -1) {\n            this.tempVector2.x = 1;\n          }\n\n          if (axis.search('Y') === -1) {\n            this.tempVector2.y = 1;\n          }\n\n          if (axis.search('Z') === -1) {\n            this.tempVector2.z = 1;\n          }\n        } // Apply scale\n\n\n        object.scale.copy(this.scaleStart).multiply(this.tempVector2);\n\n        if (this.scaleSnap && this.object) {\n          if (axis.search('X') !== -1) {\n            this.object.scale.x = Math.round(object.scale.x / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n          }\n\n          if (axis.search('Y') !== -1) {\n            object.scale.y = Math.round(object.scale.y / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n          }\n\n          if (axis.search('Z') !== -1) {\n            object.scale.z = Math.round(object.scale.z / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n          }\n        }\n      } else if (mode === 'rotate') {\n        this.offset.copy(this.pointEnd).sub(this.pointStart);\n        const ROTATION_SPEED = 20 / this.worldPosition.distanceTo(this.tempVector.setFromMatrixPosition(this.camera.matrixWorld));\n\n        if (axis === 'E') {\n          this.rotationAxis.copy(this.eye);\n          this.rotationAngle = this.pointEnd.angleTo(this.pointStart);\n          this.startNorm.copy(this.pointStart).normalize();\n          this.endNorm.copy(this.pointEnd).normalize();\n          this.rotationAngle *= this.endNorm.cross(this.startNorm).dot(this.eye) < 0 ? 1 : -1;\n        } else if (axis === 'XYZE') {\n          this.rotationAxis.copy(this.offset).cross(this.eye).normalize();\n          this.rotationAngle = this.offset.dot(this.tempVector.copy(this.rotationAxis).cross(this.eye)) * ROTATION_SPEED;\n        } else if (axis === 'X' || axis === 'Y' || axis === 'Z') {\n          this.rotationAxis.copy(this.unit[axis]);\n          this.tempVector.copy(this.unit[axis]);\n\n          if (space === 'local') {\n            this.tempVector.applyQuaternion(this.worldQuaternion);\n          }\n\n          this.rotationAngle = this.offset.dot(this.tempVector.cross(this.eye).normalize()) * ROTATION_SPEED;\n        } // Apply rotation snap\n\n\n        if (this.rotationSnap) {\n          this.rotationAngle = Math.round(this.rotationAngle / this.rotationSnap) * this.rotationSnap;\n        } // Apply rotate\n\n\n        if (space === 'local' && axis !== 'E' && axis !== 'XYZE') {\n          object.quaternion.copy(this.quaternionStart);\n          object.quaternion.multiply(this.tempQuaternion.setFromAxisAngle(this.rotationAxis, this.rotationAngle)).normalize();\n        } else {\n          this.rotationAxis.applyQuaternion(this.parentQuaternionInv);\n          object.quaternion.copy(this.tempQuaternion.setFromAxisAngle(this.rotationAxis, this.rotationAngle));\n          object.quaternion.multiply(this.quaternionStart).normalize();\n        }\n      }\n\n      this.dispatchEvent(this.changeEvent);\n      this.dispatchEvent(this.objectChangeEvent);\n    });\n\n    _defineProperty(this, \"pointerUp\", pointer => {\n      if (pointer.button !== 0) return;\n\n      if (this.dragging && this.axis !== null) {\n        this.mouseUpEvent.mode = this.mode;\n        this.dispatchEvent(this.mouseUpEvent);\n      }\n\n      this.dragging = false;\n      this.axis = null;\n    });\n\n    _defineProperty(this, \"getPointer\", event => {\n      var _this$domElement$owne;\n\n      if (this.domElement && (_this$domElement$owne = this.domElement.ownerDocument) !== null && _this$domElement$owne !== void 0 && _this$domElement$owne.pointerLockElement) {\n        return {\n          x: 0,\n          y: 0,\n          button: event.button\n        };\n      } else {\n        var _this$domElement;\n\n        const pointer = event.changedTouches ? event.changedTouches[0] : event;\n        const rect = (_this$domElement = this.domElement) === null || _this$domElement === void 0 ? void 0 : _this$domElement.getBoundingClientRect();\n        return {\n          x: (pointer.clientX - rect.left) / rect.width * 2 - 1,\n          y: -(pointer.clientY - rect.top) / rect.height * 2 + 1,\n          button: event.button\n        };\n      }\n    });\n\n    _defineProperty(this, \"onPointerHover\", event => {\n      if (!this.enabled) return;\n\n      switch (event.pointerType) {\n        case 'mouse':\n        case 'pen':\n          this.pointerHover(this.getPointer(event));\n          break;\n      }\n    });\n\n    _defineProperty(this, \"onPointerDown\", event => {\n      if (!this.enabled || !this.domElement) return;\n      this.domElement.style.touchAction = 'none'; // disable touch scroll\n\n      this.domElement.ownerDocument.addEventListener('pointermove', this.onPointerMove);\n      this.pointerHover(this.getPointer(event));\n      this.pointerDown(this.getPointer(event));\n    });\n\n    _defineProperty(this, \"onPointerMove\", event => {\n      if (!this.enabled) return;\n      this.pointerMove(this.getPointer(event));\n    });\n\n    _defineProperty(this, \"onPointerUp\", event => {\n      if (!this.enabled || !this.domElement) return;\n      this.domElement.style.touchAction = '';\n      this.domElement.ownerDocument.removeEventListener('pointermove', this.onPointerMove);\n      this.pointerUp(this.getPointer(event));\n    });\n\n    _defineProperty(this, \"getMode\", () => this.mode);\n\n    _defineProperty(this, \"setMode\", mode => {\n      this.mode = mode;\n    });\n\n    _defineProperty(this, \"setTranslationSnap\", translationSnap => {\n      this.translationSnap = translationSnap;\n    });\n\n    _defineProperty(this, \"setRotationSnap\", rotationSnap => {\n      this.rotationSnap = rotationSnap;\n    });\n\n    _defineProperty(this, \"setScaleSnap\", scaleSnap => {\n      this.scaleSnap = scaleSnap;\n    });\n\n    _defineProperty(this, \"setSize\", size => {\n      this.size = size;\n    });\n\n    _defineProperty(this, \"setSpace\", space => {\n      this.space = space;\n    });\n\n    _defineProperty(this, \"update\", () => {\n      console.warn('THREE.TransformControls: update function has no more functionality and therefore has been deprecated.');\n    });\n\n    _defineProperty(this, \"connect\", domElement => {\n      if (domElement === document) {\n        console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n      }\n\n      this.domElement = domElement;\n      this.domElement.addEventListener('pointerdown', this.onPointerDown);\n      this.domElement.addEventListener('pointermove', this.onPointerHover);\n      this.domElement.ownerDocument.addEventListener('pointerup', this.onPointerUp);\n    });\n\n    _defineProperty(this, \"dispose\", () => {\n      var _this$domElement2, _this$domElement3, _this$domElement4, _this$domElement4$own, _this$domElement5, _this$domElement5$own;\n\n      (_this$domElement2 = this.domElement) === null || _this$domElement2 === void 0 ? void 0 : _this$domElement2.removeEventListener('pointerdown', this.onPointerDown);\n      (_this$domElement3 = this.domElement) === null || _this$domElement3 === void 0 ? void 0 : _this$domElement3.removeEventListener('pointermove', this.onPointerHover);\n      (_this$domElement4 = this.domElement) === null || _this$domElement4 === void 0 ? void 0 : (_this$domElement4$own = _this$domElement4.ownerDocument) === null || _this$domElement4$own === void 0 ? void 0 : _this$domElement4$own.removeEventListener('pointermove', this.onPointerMove);\n      (_this$domElement5 = this.domElement) === null || _this$domElement5 === void 0 ? void 0 : (_this$domElement5$own = _this$domElement5.ownerDocument) === null || _this$domElement5$own === void 0 ? void 0 : _this$domElement5$own.removeEventListener('pointerup', this.onPointerUp);\n      this.traverse(child => {\n        const mesh = child;\n\n        if (mesh.geometry) {\n          mesh.geometry.dispose();\n        }\n\n        if (mesh.material) {\n          mesh.material.dispose();\n        }\n      });\n    });\n\n    this.domElement = _domElement;\n    this.camera = camera;\n    this.gizmo = new TransformControlsGizmo();\n    this.add(this.gizmo);\n    this.plane = new TransformControlsPlane();\n    this.add(this.plane); // Defined getter, setter and store for a property\n\n    const defineProperty = (propName, defaultValue) => {\n      let propValue = defaultValue;\n      Object.defineProperty(this, propName, {\n        get: function () {\n          return propValue !== undefined ? propValue : defaultValue;\n        },\n        set: function (value) {\n          if (propValue !== value) {\n            propValue = value;\n            this.plane[propName] = value;\n            this.gizmo[propName] = value;\n            this.dispatchEvent({\n              type: propName + '-changed',\n              value: value\n            });\n            this.dispatchEvent(this.changeEvent);\n          }\n        }\n      }); //@ts-ignore\n\n      this[propName] = defaultValue; // @ts-ignore\n\n      this.plane[propName] = defaultValue; // @ts-ignore\n\n      this.gizmo[propName] = defaultValue;\n    };\n\n    defineProperty('camera', this.camera);\n    defineProperty('object', this.object);\n    defineProperty('enabled', this.enabled);\n    defineProperty('axis', this.axis);\n    defineProperty('mode', this.mode);\n    defineProperty('translationSnap', this.translationSnap);\n    defineProperty('rotationSnap', this.rotationSnap);\n    defineProperty('scaleSnap', this.scaleSnap);\n    defineProperty('space', this.space);\n    defineProperty('size', this.size);\n    defineProperty('dragging', this.dragging);\n    defineProperty('showX', this.showX);\n    defineProperty('showY', this.showY);\n    defineProperty('showZ', this.showZ);\n    defineProperty('worldPosition', this.worldPosition);\n    defineProperty('worldPositionStart', this.worldPositionStart);\n    defineProperty('worldQuaternion', this.worldQuaternion);\n    defineProperty('worldQuaternionStart', this.worldQuaternionStart);\n    defineProperty('cameraPosition', this.cameraPosition);\n    defineProperty('cameraQuaternion', this.cameraQuaternion);\n    defineProperty('pointStart', this.pointStart);\n    defineProperty('pointEnd', this.pointEnd);\n    defineProperty('rotationAxis', this.rotationAxis);\n    defineProperty('rotationAngle', this.rotationAngle);\n    defineProperty('eye', this.eye); // connect events\n\n    if (_domElement !== undefined) this.connect(_domElement);\n  }\n\n}\n\nclass TransformControlsGizmo extends Object3D {\n  // these are set from parent class TransformControls\n  constructor() {\n    super();\n\n    _defineProperty(this, \"isTransformControlsGizmo\", true);\n\n    _defineProperty(this, \"type\", 'TransformControlsGizmo');\n\n    _defineProperty(this, \"tempVector\", new Vector3(0, 0, 0));\n\n    _defineProperty(this, \"tempEuler\", new Euler());\n\n    _defineProperty(this, \"alignVector\", new Vector3(0, 1, 0));\n\n    _defineProperty(this, \"zeroVector\", new Vector3(0, 0, 0));\n\n    _defineProperty(this, \"lookAtMatrix\", new Matrix4());\n\n    _defineProperty(this, \"tempQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"tempQuaternion2\", new Quaternion());\n\n    _defineProperty(this, \"identityQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"unitX\", new Vector3(1, 0, 0));\n\n    _defineProperty(this, \"unitY\", new Vector3(0, 1, 0));\n\n    _defineProperty(this, \"unitZ\", new Vector3(0, 0, 1));\n\n    _defineProperty(this, \"gizmo\", void 0);\n\n    _defineProperty(this, \"picker\", void 0);\n\n    _defineProperty(this, \"helper\", void 0);\n\n    _defineProperty(this, \"rotationAxis\", new Vector3());\n\n    _defineProperty(this, \"cameraPosition\", new Vector3());\n\n    _defineProperty(this, \"worldPositionStart\", new Vector3());\n\n    _defineProperty(this, \"worldQuaternionStart\", new Quaternion());\n\n    _defineProperty(this, \"worldPosition\", new Vector3());\n\n    _defineProperty(this, \"worldQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"eye\", new Vector3());\n\n    _defineProperty(this, \"camera\", null);\n\n    _defineProperty(this, \"enabled\", true);\n\n    _defineProperty(this, \"axis\", null);\n\n    _defineProperty(this, \"mode\", 'translate');\n\n    _defineProperty(this, \"space\", 'world');\n\n    _defineProperty(this, \"size\", 1);\n\n    _defineProperty(this, \"dragging\", false);\n\n    _defineProperty(this, \"showX\", true);\n\n    _defineProperty(this, \"showY\", true);\n\n    _defineProperty(this, \"showZ\", true);\n\n    _defineProperty(this, \"updateMatrixWorld\", () => {\n      let space = this.space;\n\n      if (this.mode === 'scale') {\n        space = 'local'; // scale always oriented to local rotation\n      }\n\n      const quaternion = space === 'local' ? this.worldQuaternion : this.identityQuaternion; // Show only gizmos for current transform mode\n\n      this.gizmo['translate'].visible = this.mode === 'translate';\n      this.gizmo['rotate'].visible = this.mode === 'rotate';\n      this.gizmo['scale'].visible = this.mode === 'scale';\n      this.helper['translate'].visible = this.mode === 'translate';\n      this.helper['rotate'].visible = this.mode === 'rotate';\n      this.helper['scale'].visible = this.mode === 'scale';\n      let handles = [];\n      handles = handles.concat(this.picker[this.mode].children);\n      handles = handles.concat(this.gizmo[this.mode].children);\n      handles = handles.concat(this.helper[this.mode].children);\n\n      for (let i = 0; i < handles.length; i++) {\n        const handle = handles[i]; // hide aligned to camera\n\n        handle.visible = true;\n        handle.rotation.set(0, 0, 0);\n        handle.position.copy(this.worldPosition);\n        let factor;\n\n        if (this.camera.isOrthographicCamera) {\n          factor = (this.camera.top - this.camera.bottom) / this.camera.zoom;\n        } else {\n          factor = this.worldPosition.distanceTo(this.cameraPosition) * Math.min(1.9 * Math.tan(Math.PI * this.camera.fov / 360) / this.camera.zoom, 7);\n        }\n\n        handle.scale.set(1, 1, 1).multiplyScalar(factor * this.size / 7); // TODO: simplify helpers and consider decoupling from gizmo\n\n        if (handle.tag === 'helper') {\n          handle.visible = false;\n\n          if (handle.name === 'AXIS') {\n            handle.position.copy(this.worldPositionStart);\n            handle.visible = !!this.axis;\n\n            if (this.axis === 'X') {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, 0, 0));\n              handle.quaternion.copy(quaternion).multiply(this.tempQuaternion);\n\n              if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n\n            if (this.axis === 'Y') {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, 0, Math.PI / 2));\n              handle.quaternion.copy(quaternion).multiply(this.tempQuaternion);\n\n              if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n\n            if (this.axis === 'Z') {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, Math.PI / 2, 0));\n              handle.quaternion.copy(quaternion).multiply(this.tempQuaternion);\n\n              if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n\n            if (this.axis === 'XYZE') {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, Math.PI / 2, 0));\n              this.alignVector.copy(this.rotationAxis);\n              handle.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.zeroVector, this.alignVector, this.unitY));\n              handle.quaternion.multiply(this.tempQuaternion);\n              handle.visible = this.dragging;\n            }\n\n            if (this.axis === 'E') {\n              handle.visible = false;\n            }\n          } else if (handle.name === 'START') {\n            handle.position.copy(this.worldPositionStart);\n            handle.visible = this.dragging;\n          } else if (handle.name === 'END') {\n            handle.position.copy(this.worldPosition);\n            handle.visible = this.dragging;\n          } else if (handle.name === 'DELTA') {\n            handle.position.copy(this.worldPositionStart);\n            handle.quaternion.copy(this.worldQuaternionStart);\n            this.tempVector.set(1e-10, 1e-10, 1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1);\n            this.tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert());\n            handle.scale.copy(this.tempVector);\n            handle.visible = this.dragging;\n          } else {\n            handle.quaternion.copy(quaternion);\n\n            if (this.dragging) {\n              handle.position.copy(this.worldPositionStart);\n            } else {\n              handle.position.copy(this.worldPosition);\n            }\n\n            if (this.axis) {\n              handle.visible = this.axis.search(handle.name) !== -1;\n            }\n          } // If updating helper, skip rest of the loop\n\n\n          continue;\n        } // Align handles to current local or world rotation\n\n\n        handle.quaternion.copy(quaternion);\n\n        if (this.mode === 'translate' || this.mode === 'scale') {\n          // Hide translate and scale axis facing the camera\n          const AXIS_HIDE_TRESHOLD = 0.99;\n          const PLANE_HIDE_TRESHOLD = 0.2;\n          const AXIS_FLIP_TRESHOLD = 0.0;\n\n          if (handle.name === 'X' || handle.name === 'XYZX') {\n            if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'Y' || handle.name === 'XYZY') {\n            if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'Z' || handle.name === 'XYZZ') {\n            if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'XY') {\n            if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'YZ') {\n            if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'XZ') {\n            if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          } // Flip translate and scale axis ocluded behind another axis\n\n\n          if (handle.name.search('X') !== -1) {\n            if (this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === 'fwd') {\n                handle.visible = false;\n              } else {\n                handle.scale.x *= -1;\n              }\n            } else if (handle.tag === 'bwd') {\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name.search('Y') !== -1) {\n            if (this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === 'fwd') {\n                handle.visible = false;\n              } else {\n                handle.scale.y *= -1;\n              }\n            } else if (handle.tag === 'bwd') {\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name.search('Z') !== -1) {\n            if (this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === 'fwd') {\n                handle.visible = false;\n              } else {\n                handle.scale.z *= -1;\n              }\n            } else if (handle.tag === 'bwd') {\n              handle.visible = false;\n            }\n          }\n        } else if (this.mode === 'rotate') {\n          // Align handles to current local or world rotation\n          this.tempQuaternion2.copy(quaternion);\n          this.alignVector.copy(this.eye).applyQuaternion(this.tempQuaternion.copy(quaternion).invert());\n\n          if (handle.name.search('E') !== -1) {\n            handle.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.eye, this.zeroVector, this.unitY));\n          }\n\n          if (handle.name === 'X') {\n            this.tempQuaternion.setFromAxisAngle(this.unitX, Math.atan2(-this.alignVector.y, this.alignVector.z));\n            this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion);\n            handle.quaternion.copy(this.tempQuaternion);\n          }\n\n          if (handle.name === 'Y') {\n            this.tempQuaternion.setFromAxisAngle(this.unitY, Math.atan2(this.alignVector.x, this.alignVector.z));\n            this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion);\n            handle.quaternion.copy(this.tempQuaternion);\n          }\n\n          if (handle.name === 'Z') {\n            this.tempQuaternion.setFromAxisAngle(this.unitZ, Math.atan2(this.alignVector.y, this.alignVector.x));\n            this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion);\n            handle.quaternion.copy(this.tempQuaternion);\n          }\n        } // Hide disabled axes\n\n\n        handle.visible = handle.visible && (handle.name.indexOf('X') === -1 || this.showX);\n        handle.visible = handle.visible && (handle.name.indexOf('Y') === -1 || this.showY);\n        handle.visible = handle.visible && (handle.name.indexOf('Z') === -1 || this.showZ);\n        handle.visible = handle.visible && (handle.name.indexOf('E') === -1 || this.showX && this.showY && this.showZ); // highlight selected axis\n        //@ts-ignore\n\n        handle.material.tempOpacity = handle.material.tempOpacity || handle.material.opacity; //@ts-ignore\n\n        handle.material.tempColor = handle.material.tempColor || handle.material.color.clone(); //@ts-ignore\n\n        handle.material.color.copy(handle.material.tempColor); //@ts-ignore\n\n        handle.material.opacity = handle.material.tempOpacity;\n\n        if (!this.enabled) {\n          //@ts-ignore\n          handle.material.opacity *= 0.5; //@ts-ignore\n\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n        } else if (this.axis) {\n          if (handle.name === this.axis) {\n            //@ts-ignore\n            handle.material.opacity = 1.0; //@ts-ignore\n\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          } else if (this.axis.split('').some(function (a) {\n            return handle.name === a;\n          })) {\n            //@ts-ignore\n            handle.material.opacity = 1.0; //@ts-ignore\n\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          } else {\n            //@ts-ignore\n            handle.material.opacity *= 0.25; //@ts-ignore\n\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          }\n        }\n      }\n\n      super.updateMatrixWorld();\n    });\n\n    const gizmoMaterial = new MeshBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      side: DoubleSide,\n      fog: false,\n      toneMapped: false\n    });\n    const gizmoLineMaterial = new LineBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      linewidth: 1,\n      fog: false,\n      toneMapped: false\n    }); // Make unique material for each axis/color\n\n    const matInvisible = gizmoMaterial.clone();\n    matInvisible.opacity = 0.15;\n    const matHelper = gizmoMaterial.clone();\n    matHelper.opacity = 0.33;\n    const matRed = gizmoMaterial.clone();\n    matRed.color.set(0xff0000);\n    const matGreen = gizmoMaterial.clone();\n    matGreen.color.set(0x00ff00);\n    const matBlue = gizmoMaterial.clone();\n    matBlue.color.set(0x0000ff);\n    const matWhiteTransparent = gizmoMaterial.clone();\n    matWhiteTransparent.opacity = 0.25;\n    const matYellowTransparent = matWhiteTransparent.clone();\n    matYellowTransparent.color.set(0xffff00);\n    const matCyanTransparent = matWhiteTransparent.clone();\n    matCyanTransparent.color.set(0x00ffff);\n    const matMagentaTransparent = matWhiteTransparent.clone();\n    matMagentaTransparent.color.set(0xff00ff);\n    const matYellow = gizmoMaterial.clone();\n    matYellow.color.set(0xffff00);\n    const matLineRed = gizmoLineMaterial.clone();\n    matLineRed.color.set(0xff0000);\n    const matLineGreen = gizmoLineMaterial.clone();\n    matLineGreen.color.set(0x00ff00);\n    const matLineBlue = gizmoLineMaterial.clone();\n    matLineBlue.color.set(0x0000ff);\n    const matLineCyan = gizmoLineMaterial.clone();\n    matLineCyan.color.set(0x00ffff);\n    const matLineMagenta = gizmoLineMaterial.clone();\n    matLineMagenta.color.set(0xff00ff);\n    const matLineYellow = gizmoLineMaterial.clone();\n    matLineYellow.color.set(0xffff00);\n    const matLineGray = gizmoLineMaterial.clone();\n    matLineGray.color.set(0x787878);\n    const matLineYellowTransparent = matLineYellow.clone();\n    matLineYellowTransparent.opacity = 0.25; // reusable geometry\n\n    const arrowGeometry = new CylinderGeometry(0, 0.05, 0.2, 12, 1, false);\n    const scaleHandleGeometry = new BoxGeometry(0.125, 0.125, 0.125);\n    const lineGeometry = new BufferGeometry();\n    lineGeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n\n    const CircleGeometry = (radius, arc) => {\n      const geometry = new BufferGeometry();\n      const vertices = [];\n\n      for (let i = 0; i <= 64 * arc; ++i) {\n        vertices.push(0, Math.cos(i / 32 * Math.PI) * radius, Math.sin(i / 32 * Math.PI) * radius);\n      }\n\n      geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n      return geometry;\n    }; // Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\n\n\n    const TranslateHelperGeometry = () => {\n      const geometry = new BufferGeometry();\n      geometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 1, 1], 3));\n      return geometry;\n    }; // Gizmo definitions - custom hierarchy definitions for setupGizmo() function\n\n\n    const gizmoTranslate = {\n      X: [[new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, -Math.PI / 2], null, 'fwd'], [new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, Math.PI / 2], null, 'bwd'], [new Line(lineGeometry, matLineRed)]],\n      Y: [[new Mesh(arrowGeometry, matGreen), [0, 1, 0], null, null, 'fwd'], [new Mesh(arrowGeometry, matGreen), [0, 1, 0], [Math.PI, 0, 0], null, 'bwd'], [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2]]],\n      Z: [[new Mesh(arrowGeometry, matBlue), [0, 0, 1], [Math.PI / 2, 0, 0], null, 'fwd'], [new Mesh(arrowGeometry, matBlue), [0, 0, 1], [-Math.PI / 2, 0, 0], null, 'bwd'], [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0]]],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.1, 0), matWhiteTransparent.clone()), [0, 0, 0], [0, 0, 0]]],\n      XY: [[new Mesh(new PlaneGeometry(0.295, 0.295), matYellowTransparent.clone()), [0.15, 0.15, 0]], [new Line(lineGeometry, matLineYellow), [0.18, 0.3, 0], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineYellow), [0.3, 0.18, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\n      YZ: [[new Mesh(new PlaneGeometry(0.295, 0.295), matCyanTransparent.clone()), [0, 0.15, 0.15], [0, Math.PI / 2, 0]], [new Line(lineGeometry, matLineCyan), [0, 0.18, 0.3], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new Line(lineGeometry, matLineCyan), [0, 0.3, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XZ: [[new Mesh(new PlaneGeometry(0.295, 0.295), matMagentaTransparent.clone()), [0.15, 0, 0.15], [-Math.PI / 2, 0, 0]], [new Line(lineGeometry, matLineMagenta), [0.18, 0, 0.3], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineMagenta), [0.3, 0, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]]\n    };\n    const pickerTranslate = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0.6, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.2, 0), matInvisible)]],\n      XY: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0.2, 0]]],\n      YZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]],\n      XZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]]\n    };\n    const helperTranslate = {\n      START: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n      END: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n      DELTA: [[new Line(TranslateHelperGeometry(), matHelper), null, null, null, 'helper']],\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']]\n    };\n    const gizmoRotate = {\n      X: [[new Line(CircleGeometry(1, 0.5), matLineRed)], [new Mesh(new OctahedronGeometry(0.04, 0), matRed), [0, 0, 0.99], null, [1, 3, 1]]],\n      Y: [[new Line(CircleGeometry(1, 0.5), matLineGreen), null, [0, 0, -Math.PI / 2]], [new Mesh(new OctahedronGeometry(0.04, 0), matGreen), [0, 0, 0.99], null, [3, 1, 1]]],\n      Z: [[new Line(CircleGeometry(1, 0.5), matLineBlue), null, [0, Math.PI / 2, 0]], [new Mesh(new OctahedronGeometry(0.04, 0), matBlue), [0.99, 0, 0], null, [1, 3, 1]]],\n      E: [[new Line(CircleGeometry(1.25, 1), matLineYellowTransparent), null, [0, Math.PI / 2, 0]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [1.17, 0, 0], [0, 0, -Math.PI / 2], [1, 1, 0.001]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [-1.17, 0, 0], [0, 0, Math.PI / 2], [1, 1, 0.001]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, -1.17, 0], [Math.PI, 0, 0], [1, 1, 0.001]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, 1.17, 0], [0, 0, 0], [1, 1, 0.001]]],\n      XYZE: [[new Line(CircleGeometry(1, 1), matLineGray), null, [0, Math.PI / 2, 0]]]\n    };\n    const helperRotate = {\n      AXIS: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']]\n    };\n    const pickerRotate = {\n      X: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]]],\n      Y: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [Math.PI / 2, 0, 0]]],\n      Z: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, 0, -Math.PI / 2]]],\n      E: [[new Mesh(new TorusGeometry(1.25, 0.1, 2, 24), matInvisible)]],\n      XYZE: [[new Mesh(new SphereGeometry(0.7, 10, 8), matInvisible)]]\n    };\n    const gizmoScale = {\n      X: [[new Mesh(scaleHandleGeometry, matRed), [0.8, 0, 0], [0, 0, -Math.PI / 2]], [new Line(lineGeometry, matLineRed), null, null, [0.8, 1, 1]]],\n      Y: [[new Mesh(scaleHandleGeometry, matGreen), [0, 0.8, 0]], [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2], [0.8, 1, 1]]],\n      Z: [[new Mesh(scaleHandleGeometry, matBlue), [0, 0, 0.8], [Math.PI / 2, 0, 0]], [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0], [0.8, 1, 1]]],\n      XY: [[new Mesh(scaleHandleGeometry, matYellowTransparent), [0.85, 0.85, 0], null, [2, 2, 0.2]], [new Line(lineGeometry, matLineYellow), [0.855, 0.98, 0], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineYellow), [0.98, 0.855, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\n      YZ: [[new Mesh(scaleHandleGeometry, matCyanTransparent), [0, 0.85, 0.85], null, [0.2, 2, 2]], [new Line(lineGeometry, matLineCyan), [0, 0.855, 0.98], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new Line(lineGeometry, matLineCyan), [0, 0.98, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XZ: [[new Mesh(scaleHandleGeometry, matMagentaTransparent), [0.85, 0, 0.85], null, [2, 0.2, 2]], [new Line(lineGeometry, matLineMagenta), [0.855, 0, 0.98], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineMagenta), [0.98, 0, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XYZX: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 0, 1.1]]]\n    };\n    const pickerScale = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0.5, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0.5, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0, 0.5], [Math.PI / 2, 0, 0]]],\n      XY: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0.85, 0], null, [3, 3, 0.2]]],\n      YZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0, 0.85, 0.85], null, [0.2, 3, 3]]],\n      XZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0, 0.85], null, [3, 0.2, 3]]],\n      XYZX: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 0, 1.1]]]\n    };\n    const helperScale = {\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']]\n    }; // Creates an Object3D with gizmos described in custom hierarchy definition.\n    // this is nearly impossible to Type so i'm leaving it\n\n    const setupGizmo = gizmoMap => {\n      const gizmo = new Object3D();\n\n      for (let name in gizmoMap) {\n        for (let i = gizmoMap[name].length; i--;) {\n          const object = gizmoMap[name][i][0].clone();\n          const position = gizmoMap[name][i][1];\n          const rotation = gizmoMap[name][i][2];\n          const scale = gizmoMap[name][i][3];\n          const tag = gizmoMap[name][i][4]; // name and tag properties are essential for picking and updating logic.\n\n          object.name = name; // @ts-ignore\n\n          object.tag = tag;\n\n          if (position) {\n            object.position.set(position[0], position[1], position[2]);\n          }\n\n          if (rotation) {\n            object.rotation.set(rotation[0], rotation[1], rotation[2]);\n          }\n\n          if (scale) {\n            object.scale.set(scale[0], scale[1], scale[2]);\n          }\n\n          object.updateMatrix();\n          const tempGeometry = object.geometry.clone();\n          tempGeometry.applyMatrix4(object.matrix);\n          object.geometry = tempGeometry;\n          object.renderOrder = Infinity;\n          object.position.set(0, 0, 0);\n          object.rotation.set(0, 0, 0);\n          object.scale.set(1, 1, 1);\n          gizmo.add(object);\n        }\n      }\n\n      return gizmo;\n    };\n\n    this.gizmo = {};\n    this.picker = {};\n    this.helper = {};\n    this.add(this.gizmo['translate'] = setupGizmo(gizmoTranslate));\n    this.add(this.gizmo['rotate'] = setupGizmo(gizmoRotate));\n    this.add(this.gizmo['scale'] = setupGizmo(gizmoScale));\n    this.add(this.picker['translate'] = setupGizmo(pickerTranslate));\n    this.add(this.picker['rotate'] = setupGizmo(pickerRotate));\n    this.add(this.picker['scale'] = setupGizmo(pickerScale));\n    this.add(this.helper['translate'] = setupGizmo(helperTranslate));\n    this.add(this.helper['rotate'] = setupGizmo(helperRotate));\n    this.add(this.helper['scale'] = setupGizmo(helperScale)); // Pickers should be hidden always\n\n    this.picker['translate'].visible = false;\n    this.picker['rotate'].visible = false;\n    this.picker['scale'].visible = false;\n  } // updateMatrixWorld will update transformations and appearance of individual handles\n\n\n}\n\nclass TransformControlsPlane extends Mesh {\n  constructor() {\n    super(new PlaneGeometry(100000, 100000, 2, 2), new MeshBasicMaterial({\n      visible: false,\n      wireframe: true,\n      side: DoubleSide,\n      transparent: true,\n      opacity: 0.1,\n      toneMapped: false\n    }));\n\n    _defineProperty(this, \"isTransformControlsPlane\", true);\n\n    _defineProperty(this, \"type\", 'TransformControlsPlane');\n\n    _defineProperty(this, \"unitX\", new Vector3(1, 0, 0));\n\n    _defineProperty(this, \"unitY\", new Vector3(0, 1, 0));\n\n    _defineProperty(this, \"unitZ\", new Vector3(0, 0, 1));\n\n    _defineProperty(this, \"tempVector\", new Vector3());\n\n    _defineProperty(this, \"dirVector\", new Vector3());\n\n    _defineProperty(this, \"alignVector\", new Vector3());\n\n    _defineProperty(this, \"tempMatrix\", new Matrix4());\n\n    _defineProperty(this, \"identityQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"cameraQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"worldPosition\", new Vector3());\n\n    _defineProperty(this, \"worldQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"eye\", new Vector3());\n\n    _defineProperty(this, \"axis\", null);\n\n    _defineProperty(this, \"mode\", 'translate');\n\n    _defineProperty(this, \"space\", 'world');\n\n    _defineProperty(this, \"updateMatrixWorld\", () => {\n      let space = this.space;\n      this.position.copy(this.worldPosition);\n      if (this.mode === 'scale') space = 'local'; // scale always oriented to local rotation\n\n      this.unitX.set(1, 0, 0).applyQuaternion(space === 'local' ? this.worldQuaternion : this.identityQuaternion);\n      this.unitY.set(0, 1, 0).applyQuaternion(space === 'local' ? this.worldQuaternion : this.identityQuaternion);\n      this.unitZ.set(0, 0, 1).applyQuaternion(space === 'local' ? this.worldQuaternion : this.identityQuaternion); // Align the plane for current transform mode, axis and space.\n\n      this.alignVector.copy(this.unitY);\n\n      switch (this.mode) {\n        case 'translate':\n        case 'scale':\n          switch (this.axis) {\n            case 'X':\n              this.alignVector.copy(this.eye).cross(this.unitX);\n              this.dirVector.copy(this.unitX).cross(this.alignVector);\n              break;\n\n            case 'Y':\n              this.alignVector.copy(this.eye).cross(this.unitY);\n              this.dirVector.copy(this.unitY).cross(this.alignVector);\n              break;\n\n            case 'Z':\n              this.alignVector.copy(this.eye).cross(this.unitZ);\n              this.dirVector.copy(this.unitZ).cross(this.alignVector);\n              break;\n\n            case 'XY':\n              this.dirVector.copy(this.unitZ);\n              break;\n\n            case 'YZ':\n              this.dirVector.copy(this.unitX);\n              break;\n\n            case 'XZ':\n              this.alignVector.copy(this.unitZ);\n              this.dirVector.copy(this.unitY);\n              break;\n\n            case 'XYZ':\n            case 'E':\n              this.dirVector.set(0, 0, 0);\n              break;\n          }\n\n          break;\n\n        case 'rotate':\n        default:\n          // special case for rotate\n          this.dirVector.set(0, 0, 0);\n      }\n\n      if (this.dirVector.length() === 0) {\n        // If in rotate mode, make the plane parallel to camera\n        this.quaternion.copy(this.cameraQuaternion);\n      } else {\n        this.tempMatrix.lookAt(this.tempVector.set(0, 0, 0), this.dirVector, this.alignVector);\n        this.quaternion.setFromRotationMatrix(this.tempMatrix);\n      }\n\n      super.updateMatrixWorld();\n    });\n  }\n\n}\n\nexport { TransformControls, TransformControlsGizmo, TransformControlsPlane };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}