{"ast":null,"code":"import _construct from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/construct.js\";\nimport _createClass from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _toConsumableArray from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"limit\", \"lineWidth\", \"children\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport mergeRefs from 'react-merge-refs';\nimport { extend, useFrame } from '@react-three/fiber';\nimport { Line2, LineMaterial, LineSegmentsGeometry } from 'three-stdlib';\nvar context = /*#__PURE__*/React.createContext(null);\nvar Segments = /*#__PURE__*/React.forwardRef(function (props, forwardedRef) {\n  React.useMemo(function () {\n    return extend({\n      SegmentObject: SegmentObject\n    });\n  }, []);\n  var _props$limit = props.limit,\n    limit = _props$limit === void 0 ? 1000 : _props$limit,\n    _props$lineWidth = props.lineWidth,\n    lineWidth = _props$lineWidth === void 0 ? 1.0 : _props$lineWidth,\n    children = props.children,\n    rest = _objectWithoutProperties(props, _excluded);\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    segments = _React$useState2[0],\n    setSegments = _React$useState2[1];\n  var _React$useState3 = React.useState(function () {\n      return new Line2();\n    }),\n    _React$useState4 = _slicedToArray(_React$useState3, 1),\n    line = _React$useState4[0];\n  var _React$useState5 = React.useState(function () {\n      return new LineMaterial();\n    }),\n    _React$useState6 = _slicedToArray(_React$useState5, 1),\n    material = _React$useState6[0];\n  var _React$useState7 = React.useState(function () {\n      return new LineSegmentsGeometry();\n    }),\n    _React$useState8 = _slicedToArray(_React$useState7, 1),\n    geometry = _React$useState8[0];\n  var _React$useState9 = React.useState(function () {\n      return new THREE.Vector2(512, 512);\n    }),\n    _React$useState10 = _slicedToArray(_React$useState9, 1),\n    resolution = _React$useState10[0];\n  var _React$useState11 = React.useState(function () {\n      return Array(limit * 6).fill(0);\n    }),\n    _React$useState12 = _slicedToArray(_React$useState11, 1),\n    positions = _React$useState12[0];\n  var _React$useState13 = React.useState(function () {\n      return Array(limit * 6).fill(0);\n    }),\n    _React$useState14 = _slicedToArray(_React$useState13, 1),\n    colors = _React$useState14[0];\n  var api = React.useMemo(function () {\n    return {\n      subscribe: function subscribe(ref) {\n        setSegments(function (segments) {\n          return [].concat(_toConsumableArray(segments), [ref]);\n        });\n        return function () {\n          return setSegments(function (segments) {\n            return segments.filter(function (item) {\n              return item.current !== ref.current;\n            });\n          });\n        };\n      }\n    };\n  }, []);\n  useFrame(function () {\n    for (var i = 0; i < limit; i++) {\n      var _segments$i;\n      var segment = (_segments$i = segments[i]) == null ? void 0 : _segments$i.current;\n      if (segment) {\n        positions[i * 6 + 0] = segment.start.x;\n        positions[i * 6 + 1] = segment.start.y;\n        positions[i * 6 + 2] = segment.start.z;\n        positions[i * 6 + 3] = segment.end.x;\n        positions[i * 6 + 4] = segment.end.y;\n        positions[i * 6 + 5] = segment.end.z;\n        colors[i * 6 + 0] = segment.color.r;\n        colors[i * 6 + 1] = segment.color.g;\n        colors[i * 6 + 2] = segment.color.b;\n        colors[i * 6 + 3] = segment.color.r;\n        colors[i * 6 + 4] = segment.color.g;\n        colors[i * 6 + 5] = segment.color.b;\n      }\n    }\n    geometry.setColors(colors);\n    geometry.setPositions(positions);\n    line.computeLineDistances();\n  });\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    object: line,\n    ref: forwardedRef\n  }, /*#__PURE__*/React.createElement(\"primitive\", {\n    object: geometry,\n    attach: \"geometry\"\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: material,\n    attach: \"material\",\n    vertexColors: true,\n    resolution: resolution,\n    linewidth: lineWidth\n  }, rest)), /*#__PURE__*/React.createElement(context.Provider, {\n    value: api\n  }, children));\n});\nvar SegmentObject = /*#__PURE__*/_createClass(function SegmentObject() {\n  _classCallCheck(this, SegmentObject);\n  this.color = new THREE.Color('white');\n  this.start = new THREE.Vector3(0, 0, 0);\n  this.end = new THREE.Vector3(0, 0, 0);\n});\nvar normPos = function normPos(pos) {\n  return pos instanceof THREE.Vector3 ? pos : _construct(THREE.Vector3, _toConsumableArray(typeof pos === 'number' ? [pos, pos, pos] : pos));\n};\nvar Segment = /*#__PURE__*/React.forwardRef(function (_ref, forwardedRef) {\n  var color = _ref.color,\n    start = _ref.start,\n    end = _ref.end;\n  var api = React.useContext(context);\n  if (!api) throw 'Segment must used inside Segments component.';\n  var ref = React.useRef(null);\n  React.useLayoutEffect(function () {\n    return api.subscribe(ref);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"segmentObject\", {\n    ref: mergeRefs([ref, forwardedRef]),\n    color: color,\n    start: normPos(start),\n    end: normPos(end)\n  });\n});\nexport { Segment, SegmentObject, Segments };","map":{"version":3,"names":["_extends","THREE","React","mergeRefs","extend","useFrame","Line2","LineMaterial","LineSegmentsGeometry","context","createContext","Segments","forwardRef","props","forwardedRef","useMemo","SegmentObject","limit","lineWidth","children","rest","useState","segments","setSegments","line","material","geometry","Vector2","resolution","Array","fill","positions","colors","api","subscribe","ref","filter","item","current","i","_segments$i","segment","start","x","y","z","end","color","r","g","b","setColors","setPositions","computeLineDistances","createElement","object","attach","vertexColors","linewidth","Provider","value","Color","Vector3","normPos","pos","Segment","useContext","useRef","useLayoutEffect"],"sources":["/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@react-three/drei/core/Segments.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport mergeRefs from 'react-merge-refs';\nimport { extend, useFrame } from '@react-three/fiber';\nimport { Line2, LineMaterial, LineSegmentsGeometry } from 'three-stdlib';\n\nconst context = /*#__PURE__*/React.createContext(null);\nconst Segments = /*#__PURE__*/React.forwardRef((props, forwardedRef) => {\n  React.useMemo(() => extend({\n    SegmentObject\n  }), []);\n  const {\n    limit = 1000,\n    lineWidth = 1.0,\n    children,\n    ...rest\n  } = props;\n  const [segments, setSegments] = React.useState([]);\n  const [line] = React.useState(() => new Line2());\n  const [material] = React.useState(() => new LineMaterial());\n  const [geometry] = React.useState(() => new LineSegmentsGeometry());\n  const [resolution] = React.useState(() => new THREE.Vector2(512, 512));\n  const [positions] = React.useState(() => Array(limit * 6).fill(0));\n  const [colors] = React.useState(() => Array(limit * 6).fill(0));\n  const api = React.useMemo(() => ({\n    subscribe: ref => {\n      setSegments(segments => [...segments, ref]);\n      return () => setSegments(segments => segments.filter(item => item.current !== ref.current));\n    }\n  }), []);\n  useFrame(() => {\n    for (let i = 0; i < limit; i++) {\n      var _segments$i;\n\n      const segment = (_segments$i = segments[i]) == null ? void 0 : _segments$i.current;\n\n      if (segment) {\n        positions[i * 6 + 0] = segment.start.x;\n        positions[i * 6 + 1] = segment.start.y;\n        positions[i * 6 + 2] = segment.start.z;\n        positions[i * 6 + 3] = segment.end.x;\n        positions[i * 6 + 4] = segment.end.y;\n        positions[i * 6 + 5] = segment.end.z;\n        colors[i * 6 + 0] = segment.color.r;\n        colors[i * 6 + 1] = segment.color.g;\n        colors[i * 6 + 2] = segment.color.b;\n        colors[i * 6 + 3] = segment.color.r;\n        colors[i * 6 + 4] = segment.color.g;\n        colors[i * 6 + 5] = segment.color.b;\n      }\n    }\n\n    geometry.setColors(colors);\n    geometry.setPositions(positions);\n    line.computeLineDistances();\n  });\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    object: line,\n    ref: forwardedRef\n  }, /*#__PURE__*/React.createElement(\"primitive\", {\n    object: geometry,\n    attach: \"geometry\"\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: material,\n    attach: \"material\",\n    vertexColors: true,\n    resolution: resolution,\n    linewidth: lineWidth\n  }, rest)), /*#__PURE__*/React.createElement(context.Provider, {\n    value: api\n  }, children));\n});\nclass SegmentObject {\n  constructor() {\n    this.color = new THREE.Color('white');\n    this.start = new THREE.Vector3(0, 0, 0);\n    this.end = new THREE.Vector3(0, 0, 0);\n  }\n\n}\n\nconst normPos = pos => pos instanceof THREE.Vector3 ? pos : new THREE.Vector3(...(typeof pos === 'number' ? [pos, pos, pos] : pos));\n\nconst Segment = /*#__PURE__*/React.forwardRef(({\n  color,\n  start,\n  end\n}, forwardedRef) => {\n  const api = React.useContext(context);\n  if (!api) throw 'Segment must used inside Segments component.';\n  const ref = React.useRef(null);\n  React.useLayoutEffect(() => api.subscribe(ref), []);\n  return /*#__PURE__*/React.createElement(\"segmentObject\", {\n    ref: mergeRefs([ref, forwardedRef]),\n    color: color,\n    start: normPos(start),\n    end: normPos(end)\n  });\n});\n\nexport { Segment, SegmentObject, Segments };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}