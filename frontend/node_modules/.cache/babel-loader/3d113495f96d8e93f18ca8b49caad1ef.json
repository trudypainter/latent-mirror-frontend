{"ast":null,"code":"import _slicedToArray from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"children\", \"controls\", \"shadows\", \"adjustCamera\", \"environment\", \"intensity\", \"preset\", \"shadowBias\", \"contactShadow\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { Environment } from './Environment.js';\nimport { ContactShadows } from './ContactShadows.js';\nvar presets = {\n  rembrandt: {\n    main: [1, 2, 1],\n    fill: [-2, -0.5, -2]\n  },\n  portrait: {\n    main: [-1, 2, 0.5],\n    fill: [-1, 0.5, -1.5]\n  },\n  upfront: {\n    main: [0, 2, 1],\n    fill: [-1, 0.5, -1.5]\n  },\n  soft: {\n    main: [-2, 4, 4],\n    fill: [-1, 0.5, -1.5]\n  }\n};\nfunction Stage(_ref) {\n  var children = _ref.children,\n    controls = _ref.controls,\n    _ref$shadows = _ref.shadows,\n    shadows = _ref$shadows === void 0 ? true : _ref$shadows,\n    _ref$adjustCamera = _ref.adjustCamera,\n    adjustCamera = _ref$adjustCamera === void 0 ? true : _ref$adjustCamera,\n    _ref$environment = _ref.environment,\n    environment = _ref$environment === void 0 ? 'city' : _ref$environment,\n    _ref$intensity = _ref.intensity,\n    intensity = _ref$intensity === void 0 ? 1 : _ref$intensity,\n    _ref$preset = _ref.preset,\n    preset = _ref$preset === void 0 ? 'rembrandt' : _ref$preset,\n    _ref$shadowBias = _ref.shadowBias,\n    shadowBias = _ref$shadowBias === void 0 ? 0 : _ref$shadowBias,\n    _ref$contactShadow = _ref.contactShadow,\n    contactShadow = _ref$contactShadow === void 0 ? {\n      blur: 2,\n      opacity: 0.5,\n      position: [0, 0, 0]\n    } : _ref$contactShadow,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var config = presets[preset];\n  var camera = useThree(function (state) {\n    return state.camera;\n  }); // @ts-expect-error new in @react-three/fiber@7.0.5\n\n  var defaultControls = useThree(function (state) {\n    return state.controls;\n  });\n  var outer = React.useRef(null);\n  var inner = React.useRef(null);\n  var _React$useState = React.useState({\n      radius: 0,\n      width: 0,\n      height: 0\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    _React$useState2$ = _React$useState2[0],\n    radius = _React$useState2$.radius,\n    width = _React$useState2$.width,\n    height = _React$useState2$.height,\n    set = _React$useState2[1];\n  React.useLayoutEffect(function () {\n    outer.current.position.set(0, 0, 0);\n    outer.current.updateWorldMatrix(true, true);\n    var box3 = new THREE.Box3().setFromObject(inner.current);\n    var center = new THREE.Vector3();\n    var sphere = new THREE.Sphere();\n    var height = box3.max.y - box3.min.y;\n    var width = box3.max.x - box3.min.x;\n    box3.getCenter(center);\n    box3.getBoundingSphere(sphere);\n    set({\n      radius: sphere.radius,\n      width: width,\n      height: height\n    });\n    outer.current.position.set(-center.x, -center.y + height / 2, -center.z);\n  }, [children]);\n  React.useLayoutEffect(function () {\n    if (adjustCamera) {\n      var y = radius / (height > width ? 1.5 : 2.5);\n      camera.position.set(0, radius * 0.5, radius * 2.5);\n      camera.near = 0.1;\n      camera.far = Math.max(5000, radius * 4);\n      camera.lookAt(0, y, 0);\n      var ctrl = defaultControls || (controls == null ? void 0 : controls.current);\n      if (ctrl) {\n        ctrl.target.set(0, y, 0);\n        ctrl.update();\n      }\n    }\n  }, [defaultControls, radius, height, width, adjustCamera]);\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"group\", {\n    ref: outer\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    ref: inner\n  }, children)), contactShadow && /*#__PURE__*/React.createElement(ContactShadows, _extends({\n    scale: radius * 2,\n    far: radius / 2\n  }, contactShadow)), environment && /*#__PURE__*/React.createElement(Environment, {\n    preset: environment\n  }), /*#__PURE__*/React.createElement(\"ambientLight\", {\n    intensity: intensity / 3\n  }), /*#__PURE__*/React.createElement(\"spotLight\", {\n    penumbra: 1,\n    position: [config.main[0] * radius, config.main[1] * radius, config.main[2] * radius],\n    intensity: intensity * 2,\n    castShadow: shadows,\n    \"shadow-bias\": shadowBias\n  }), /*#__PURE__*/React.createElement(\"pointLight\", {\n    position: [config.fill[0] * radius, config.fill[1] * radius, config.fill[2] * radius],\n    intensity: intensity\n  }));\n}\nexport { Stage };","map":{"version":3,"names":["_extends","React","THREE","useThree","Environment","ContactShadows","presets","rembrandt","main","fill","portrait","upfront","soft","Stage","children","controls","shadows","adjustCamera","environment","intensity","preset","shadowBias","contactShadow","blur","opacity","position","props","config","camera","state","defaultControls","outer","useRef","inner","useState","radius","width","height","set","useLayoutEffect","current","updateWorldMatrix","box3","Box3","setFromObject","center","Vector3","sphere","Sphere","max","y","min","x","getCenter","getBoundingSphere","z","near","far","Math","lookAt","ctrl","target","update","createElement","ref","scale","penumbra","castShadow"],"sources":["/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@react-three/drei/core/Stage.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { Environment } from './Environment.js';\nimport { ContactShadows } from './ContactShadows.js';\n\nconst presets = {\n  rembrandt: {\n    main: [1, 2, 1],\n    fill: [-2, -0.5, -2]\n  },\n  portrait: {\n    main: [-1, 2, 0.5],\n    fill: [-1, 0.5, -1.5]\n  },\n  upfront: {\n    main: [0, 2, 1],\n    fill: [-1, 0.5, -1.5]\n  },\n  soft: {\n    main: [-2, 4, 4],\n    fill: [-1, 0.5, -1.5]\n  }\n};\nfunction Stage({\n  children,\n  controls,\n  shadows = true,\n  adjustCamera = true,\n  environment = 'city',\n  intensity = 1,\n  preset = 'rembrandt',\n  shadowBias = 0,\n  contactShadow = {\n    blur: 2,\n    opacity: 0.5,\n    position: [0, 0, 0]\n  },\n  ...props\n}) {\n  const config = presets[preset];\n  const camera = useThree(state => state.camera); // @ts-expect-error new in @react-three/fiber@7.0.5\n\n  const defaultControls = useThree(state => state.controls);\n  const outer = React.useRef(null);\n  const inner = React.useRef(null);\n  const [{\n    radius,\n    width,\n    height\n  }, set] = React.useState({\n    radius: 0,\n    width: 0,\n    height: 0\n  });\n  React.useLayoutEffect(() => {\n    outer.current.position.set(0, 0, 0);\n    outer.current.updateWorldMatrix(true, true);\n    const box3 = new THREE.Box3().setFromObject(inner.current);\n    const center = new THREE.Vector3();\n    const sphere = new THREE.Sphere();\n    const height = box3.max.y - box3.min.y;\n    const width = box3.max.x - box3.min.x;\n    box3.getCenter(center);\n    box3.getBoundingSphere(sphere);\n    set({\n      radius: sphere.radius,\n      width,\n      height\n    });\n    outer.current.position.set(-center.x, -center.y + height / 2, -center.z);\n  }, [children]);\n  React.useLayoutEffect(() => {\n    if (adjustCamera) {\n      const y = radius / (height > width ? 1.5 : 2.5);\n      camera.position.set(0, radius * 0.5, radius * 2.5);\n      camera.near = 0.1;\n      camera.far = Math.max(5000, radius * 4);\n      camera.lookAt(0, y, 0);\n      const ctrl = defaultControls || (controls == null ? void 0 : controls.current);\n\n      if (ctrl) {\n        ctrl.target.set(0, y, 0);\n        ctrl.update();\n      }\n    }\n  }, [defaultControls, radius, height, width, adjustCamera]);\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"group\", {\n    ref: outer\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    ref: inner\n  }, children)), contactShadow && /*#__PURE__*/React.createElement(ContactShadows, _extends({\n    scale: radius * 2,\n    far: radius / 2\n  }, contactShadow)), environment && /*#__PURE__*/React.createElement(Environment, {\n    preset: environment\n  }), /*#__PURE__*/React.createElement(\"ambientLight\", {\n    intensity: intensity / 3\n  }), /*#__PURE__*/React.createElement(\"spotLight\", {\n    penumbra: 1,\n    position: [config.main[0] * radius, config.main[1] * radius, config.main[2] * radius],\n    intensity: intensity * 2,\n    castShadow: shadows,\n    \"shadow-bias\": shadowBias\n  }), /*#__PURE__*/React.createElement(\"pointLight\", {\n    position: [config.fill[0] * radius, config.fill[1] * radius, config.fill[2] * radius],\n    intensity: intensity\n  }));\n}\n\nexport { Stage };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}