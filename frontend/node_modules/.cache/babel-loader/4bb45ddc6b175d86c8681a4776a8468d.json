{"ast":null,"code":"import _classCallCheck from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { GLTFLoader } from '../loaders/GLTFLoader.js';\nvar DEFAULT_HAND_PROFILE_PATH = 'https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles/generic-hand/';\nvar XRHandMeshModel = /*#__PURE__*/function () {\n  function XRHandMeshModel(handModel, controller) {\n    var _this = this;\n    var path = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_HAND_PROFILE_PATH;\n    var handedness = arguments.length > 3 ? arguments[3] : undefined;\n    var customModelPath = arguments.length > 4 ? arguments[4] : undefined;\n    _classCallCheck(this, XRHandMeshModel);\n    _defineProperty(this, \"controller\", void 0);\n    _defineProperty(this, \"handModel\", void 0);\n    _defineProperty(this, \"bones\", void 0);\n    this.controller = controller;\n    this.handModel = handModel;\n    this.bones = [];\n    var loader = new GLTFLoader();\n    if (!customModelPath) loader.setPath(path);\n    loader.load(customModelPath != null ? customModelPath : \"\".concat(handedness, \".glb\"), function (gltf) {\n      var object = gltf.scene.children[0];\n      _this.handModel.add(object);\n      var mesh = object.getObjectByProperty('type', 'SkinnedMesh');\n      mesh.frustumCulled = false;\n      mesh.castShadow = true;\n      mesh.receiveShadow = true;\n      var joints = ['wrist', 'thumb-metacarpal', 'thumb-phalanx-proximal', 'thumb-phalanx-distal', 'thumb-tip', 'index-finger-metacarpal', 'index-finger-phalanx-proximal', 'index-finger-phalanx-intermediate', 'index-finger-phalanx-distal', 'index-finger-tip', 'middle-finger-metacarpal', 'middle-finger-phalanx-proximal', 'middle-finger-phalanx-intermediate', 'middle-finger-phalanx-distal', 'middle-finger-tip', 'ring-finger-metacarpal', 'ring-finger-phalanx-proximal', 'ring-finger-phalanx-intermediate', 'ring-finger-phalanx-distal', 'ring-finger-tip', 'pinky-finger-metacarpal', 'pinky-finger-phalanx-proximal', 'pinky-finger-phalanx-intermediate', 'pinky-finger-phalanx-distal', 'pinky-finger-tip'];\n      joints.forEach(function (jointName) {\n        var bone = object.getObjectByName(jointName);\n        if (bone !== undefined) {\n          bone.jointName = jointName;\n        } else {\n          console.warn(\"Couldn't find \".concat(jointName, \" in \").concat(handedness, \" hand mesh\"));\n        }\n        _this.bones.push(bone);\n      });\n    });\n  }\n  _createClass(XRHandMeshModel, [{\n    key: \"updateMesh\",\n    value: function updateMesh() {\n      // XR Joints\n      var XRJoints = this.controller.joints;\n      for (var i = 0; i < this.bones.length; i++) {\n        var bone = this.bones[i];\n        if (bone) {\n          var XRJoint = XRJoints[bone.jointName];\n          if (XRJoint.visible) {\n            var position = XRJoint.position;\n            bone.position.copy(position);\n            bone.quaternion.copy(XRJoint.quaternion); // bone.scale.setScalar( XRJoint.jointRadius || defaultRadius );\n          }\n        }\n      }\n    }\n  }]);\n  return XRHandMeshModel;\n}();\nexport { XRHandMeshModel };","map":{"version":3,"names":["_defineProperty","GLTFLoader","DEFAULT_HAND_PROFILE_PATH","XRHandMeshModel","handModel","controller","path","handedness","customModelPath","bones","loader","setPath","load","gltf","object","scene","children","add","mesh","getObjectByProperty","frustumCulled","castShadow","receiveShadow","joints","forEach","jointName","bone","getObjectByName","undefined","console","warn","push","XRJoints","i","length","XRJoint","visible","position","copy","quaternion"],"sources":["/Users/trudypainter/Desktop/latent-2/frontend/node_modules/three-stdlib/webxr/XRHandMeshModel.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { GLTFLoader } from '../loaders/GLTFLoader.js';\n\nconst DEFAULT_HAND_PROFILE_PATH = 'https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles/generic-hand/';\n\nclass XRHandMeshModel {\n  constructor(handModel, controller, path = DEFAULT_HAND_PROFILE_PATH, handedness, customModelPath) {\n    _defineProperty(this, \"controller\", void 0);\n\n    _defineProperty(this, \"handModel\", void 0);\n\n    _defineProperty(this, \"bones\", void 0);\n\n    this.controller = controller;\n    this.handModel = handModel;\n    this.bones = [];\n    const loader = new GLTFLoader();\n    if (!customModelPath) loader.setPath(path);\n    loader.load(customModelPath != null ? customModelPath : `${handedness}.glb`, gltf => {\n      const object = gltf.scene.children[0];\n      this.handModel.add(object);\n      const mesh = object.getObjectByProperty('type', 'SkinnedMesh');\n      mesh.frustumCulled = false;\n      mesh.castShadow = true;\n      mesh.receiveShadow = true;\n      const joints = ['wrist', 'thumb-metacarpal', 'thumb-phalanx-proximal', 'thumb-phalanx-distal', 'thumb-tip', 'index-finger-metacarpal', 'index-finger-phalanx-proximal', 'index-finger-phalanx-intermediate', 'index-finger-phalanx-distal', 'index-finger-tip', 'middle-finger-metacarpal', 'middle-finger-phalanx-proximal', 'middle-finger-phalanx-intermediate', 'middle-finger-phalanx-distal', 'middle-finger-tip', 'ring-finger-metacarpal', 'ring-finger-phalanx-proximal', 'ring-finger-phalanx-intermediate', 'ring-finger-phalanx-distal', 'ring-finger-tip', 'pinky-finger-metacarpal', 'pinky-finger-phalanx-proximal', 'pinky-finger-phalanx-intermediate', 'pinky-finger-phalanx-distal', 'pinky-finger-tip'];\n      joints.forEach(jointName => {\n        const bone = object.getObjectByName(jointName);\n\n        if (bone !== undefined) {\n          bone.jointName = jointName;\n        } else {\n          console.warn(`Couldn't find ${jointName} in ${handedness} hand mesh`);\n        }\n\n        this.bones.push(bone);\n      });\n    });\n  }\n\n  updateMesh() {\n    // XR Joints\n    const XRJoints = this.controller.joints;\n\n    for (let i = 0; i < this.bones.length; i++) {\n      const bone = this.bones[i];\n\n      if (bone) {\n        const XRJoint = XRJoints[bone.jointName];\n\n        if (XRJoint.visible) {\n          const position = XRJoint.position;\n          bone.position.copy(position);\n          bone.quaternion.copy(XRJoint.quaternion); // bone.scale.setScalar( XRJoint.jointRadius || defaultRadius );\n        }\n      }\n    }\n  }\n\n}\n\nexport { XRHandMeshModel };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}