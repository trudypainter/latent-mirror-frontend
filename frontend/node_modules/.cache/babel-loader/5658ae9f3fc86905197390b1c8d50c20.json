{"ast":null,"code":"import _classCallCheck from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Cache } from './Cache.js';\nimport { Loader } from './Loader.js';\nimport { createElementNS } from '../utils.js';\nvar ImageLoader = /*#__PURE__*/function (_Loader) {\n  _inherits(ImageLoader, _Loader);\n  var _super = _createSuper(ImageLoader);\n  function ImageLoader(manager) {\n    _classCallCheck(this, ImageLoader);\n    return _super.call(this, manager);\n  }\n  _createClass(ImageLoader, [{\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      if (this.path !== undefined) url = this.path + url;\n      url = this.manager.resolveURL(url);\n      var scope = this;\n      var cached = Cache.get(url);\n      if (cached !== undefined) {\n        scope.manager.itemStart(url);\n        setTimeout(function () {\n          if (onLoad) onLoad(cached);\n          scope.manager.itemEnd(url);\n        }, 0);\n        return cached;\n      }\n      var image = createElementNS('img');\n      function onImageLoad() {\n        removeEventListeners();\n        Cache.add(url, this);\n        if (onLoad) onLoad(this);\n        scope.manager.itemEnd(url);\n      }\n      function onImageError(event) {\n        removeEventListeners();\n        if (onError) onError(event);\n        scope.manager.itemError(url);\n        scope.manager.itemEnd(url);\n      }\n      function removeEventListeners() {\n        image.removeEventListener('load', onImageLoad, false);\n        image.removeEventListener('error', onImageError, false);\n      }\n      image.addEventListener('load', onImageLoad, false);\n      image.addEventListener('error', onImageError, false);\n      if (url.slice(0, 5) !== 'data:') {\n        if (this.crossOrigin !== undefined) image.crossOrigin = this.crossOrigin;\n      }\n      scope.manager.itemStart(url);\n      image.src = url;\n      return image;\n    }\n  }]);\n  return ImageLoader;\n}(Loader);\nexport { ImageLoader };","map":{"version":3,"names":["Cache","Loader","createElementNS","ImageLoader","manager","url","onLoad","onProgress","onError","path","undefined","resolveURL","scope","cached","get","itemStart","setTimeout","itemEnd","image","onImageLoad","removeEventListeners","add","onImageError","event","itemError","removeEventListener","addEventListener","slice","crossOrigin","src"],"sources":["/Users/trudypainter/Desktop/latent-2/frontend/node_modules/three/src/loaders/ImageLoader.js"],"sourcesContent":["import { Cache } from './Cache.js';\nimport { Loader } from './Loader.js';\nimport { createElementNS } from '../utils.js';\n\nclass ImageLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = createElementNS( 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\tremoveEventListeners();\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\tremoveEventListeners();\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction removeEventListeners() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.slice( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n}\n\n\nexport { ImageLoader };\n"],"mappings":";;;;AAAA,SAASA,KAAK,QAAQ,YAAY;AAClC,SAASC,MAAM,QAAQ,aAAa;AACpC,SAASC,eAAe,QAAQ,aAAa;AAAC,IAExCC,WAAW;EAAA;EAAA;EAEhB,qBAAaC,OAAO,EAAG;IAAA;IAAA,yBAEfA,OAAO;EAEf;EAAC;IAAA;IAAA,OAED,cAAMC,GAAG,EAAEC,MAAM,EAAEC,UAAU,EAAEC,OAAO,EAAG;MAExC,IAAK,IAAI,CAACC,IAAI,KAAKC,SAAS,EAAGL,GAAG,GAAG,IAAI,CAACI,IAAI,GAAGJ,GAAG;MAEpDA,GAAG,GAAG,IAAI,CAACD,OAAO,CAACO,UAAU,CAAEN,GAAG,CAAE;MAEpC,IAAMO,KAAK,GAAG,IAAI;MAElB,IAAMC,MAAM,GAAGb,KAAK,CAACc,GAAG,CAAET,GAAG,CAAE;MAE/B,IAAKQ,MAAM,KAAKH,SAAS,EAAG;QAE3BE,KAAK,CAACR,OAAO,CAACW,SAAS,CAAEV,GAAG,CAAE;QAE9BW,UAAU,CAAE,YAAY;UAEvB,IAAKV,MAAM,EAAGA,MAAM,CAAEO,MAAM,CAAE;UAE9BD,KAAK,CAACR,OAAO,CAACa,OAAO,CAAEZ,GAAG,CAAE;QAE7B,CAAC,EAAE,CAAC,CAAE;QAEN,OAAOQ,MAAM;MAEd;MAEA,IAAMK,KAAK,GAAGhB,eAAe,CAAE,KAAK,CAAE;MAEtC,SAASiB,WAAW,GAAG;QAEtBC,oBAAoB,EAAE;QAEtBpB,KAAK,CAACqB,GAAG,CAAEhB,GAAG,EAAE,IAAI,CAAE;QAEtB,IAAKC,MAAM,EAAGA,MAAM,CAAE,IAAI,CAAE;QAE5BM,KAAK,CAACR,OAAO,CAACa,OAAO,CAAEZ,GAAG,CAAE;MAE7B;MAEA,SAASiB,YAAY,CAAEC,KAAK,EAAG;QAE9BH,oBAAoB,EAAE;QAEtB,IAAKZ,OAAO,EAAGA,OAAO,CAAEe,KAAK,CAAE;QAE/BX,KAAK,CAACR,OAAO,CAACoB,SAAS,CAAEnB,GAAG,CAAE;QAC9BO,KAAK,CAACR,OAAO,CAACa,OAAO,CAAEZ,GAAG,CAAE;MAE7B;MAEA,SAASe,oBAAoB,GAAG;QAE/BF,KAAK,CAACO,mBAAmB,CAAE,MAAM,EAAEN,WAAW,EAAE,KAAK,CAAE;QACvDD,KAAK,CAACO,mBAAmB,CAAE,OAAO,EAAEH,YAAY,EAAE,KAAK,CAAE;MAE1D;MAEAJ,KAAK,CAACQ,gBAAgB,CAAE,MAAM,EAAEP,WAAW,EAAE,KAAK,CAAE;MACpDD,KAAK,CAACQ,gBAAgB,CAAE,OAAO,EAAEJ,YAAY,EAAE,KAAK,CAAE;MAEtD,IAAKjB,GAAG,CAACsB,KAAK,CAAE,CAAC,EAAE,CAAC,CAAE,KAAK,OAAO,EAAG;QAEpC,IAAK,IAAI,CAACC,WAAW,KAAKlB,SAAS,EAAGQ,KAAK,CAACU,WAAW,GAAG,IAAI,CAACA,WAAW;MAE3E;MAEAhB,KAAK,CAACR,OAAO,CAACW,SAAS,CAAEV,GAAG,CAAE;MAE9Ba,KAAK,CAACW,GAAG,GAAGxB,GAAG;MAEf,OAAOa,KAAK;IAEb;EAAC;EAAA;AAAA,EAjFwBjB,MAAM;AAsFhC,SAASE,WAAW"},"metadata":{},"sourceType":"module"}