{"ast":null,"code":"import _classCallCheck from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport Node from '../core/Node.js';\nimport ConstNode from '../core/ConstNode.js';\nimport UVNode from '../accessors/UVNode.js';\nimport MathNode from '../math/MathNode.js';\nimport OperatorNode from '../math/OperatorNode.js';\nimport SplitNode from './SplitNode.js';\nimport JoinNode from './JoinNode.js';\nvar SpriteSheetUVNode = /*#__PURE__*/function (_Node) {\n  _inherits(SpriteSheetUVNode, _Node);\n  var _super = _createSuper(SpriteSheetUVNode);\n  function SpriteSheetUVNode(countNode) {\n    var _this;\n    var uvNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new UVNode();\n    var frameNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new ConstNode(0);\n    _classCallCheck(this, SpriteSheetUVNode);\n    _this = _super.call(this, 'vec2');\n    _this.countNode = countNode;\n    _this.uvNode = uvNode;\n    _this.frameNode = frameNode;\n    return _this;\n  }\n  _createClass(SpriteSheetUVNode, [{\n    key: \"generate\",\n    value: function generate(builder) {\n      var count = this.countNode;\n      var uv = this.uvNode;\n      var frame = this.frameNode;\n      var one = new ConstNode(1);\n      var width = new SplitNode(count, 'x');\n      var height = new SplitNode(count, 'y');\n      var total = new OperatorNode('*', width, height);\n      var roundFrame = new MathNode(MathNode.FLOOR, new MathNode(MathNode.MOD, frame, total));\n      var frameNum = new OperatorNode('+', roundFrame, one);\n      var cell = new MathNode(MathNode.MOD, roundFrame, width);\n      var row = new MathNode(MathNode.CEIL, new OperatorNode('/', frameNum, width));\n      var rowInv = new OperatorNode('-', height, row);\n      var scale = new OperatorNode('/', one, count);\n      var uvFrameOffset = new JoinNode([new OperatorNode('*', cell, new SplitNode(scale, 'x')), new OperatorNode('*', rowInv, new SplitNode(scale, 'y'))]);\n      var uvScale = new OperatorNode('*', uv, scale);\n      var uvFrame = new OperatorNode('+', uvScale, uvFrameOffset);\n      return uvFrame.build(builder, this.getNodeType(builder));\n    }\n  }]);\n  return SpriteSheetUVNode;\n}(Node);\nexport default SpriteSheetUVNode;","map":{"version":3,"names":["Node","ConstNode","UVNode","MathNode","OperatorNode","SplitNode","JoinNode","SpriteSheetUVNode","countNode","uvNode","frameNode","builder","count","uv","frame","one","width","height","total","roundFrame","FLOOR","MOD","frameNum","cell","row","CEIL","rowInv","scale","uvFrameOffset","uvScale","uvFrame","build","getNodeType"],"sources":["/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/three-stdlib/nodes/utils/SpriteSheetUVNode.js"],"sourcesContent":["import Node from '../core/Node.js';\nimport ConstNode from '../core/ConstNode.js';\nimport UVNode from '../accessors/UVNode.js';\nimport MathNode from '../math/MathNode.js';\nimport OperatorNode from '../math/OperatorNode.js';\nimport SplitNode from './SplitNode.js';\nimport JoinNode from './JoinNode.js';\n\nclass SpriteSheetUVNode extends Node {\n  constructor(countNode, uvNode = new UVNode(), frameNode = new ConstNode(0)) {\n    super('vec2');\n    this.countNode = countNode;\n    this.uvNode = uvNode;\n    this.frameNode = frameNode;\n  }\n\n  generate(builder) {\n    const count = this.countNode;\n    const uv = this.uvNode;\n    const frame = this.frameNode;\n    const one = new ConstNode(1);\n    const width = new SplitNode(count, 'x');\n    const height = new SplitNode(count, 'y');\n    const total = new OperatorNode('*', width, height);\n    const roundFrame = new MathNode(MathNode.FLOOR, new MathNode(MathNode.MOD, frame, total));\n    const frameNum = new OperatorNode('+', roundFrame, one);\n    const cell = new MathNode(MathNode.MOD, roundFrame, width);\n    const row = new MathNode(MathNode.CEIL, new OperatorNode('/', frameNum, width));\n    const rowInv = new OperatorNode('-', height, row);\n    const scale = new OperatorNode('/', one, count);\n    const uvFrameOffset = new JoinNode([new OperatorNode('*', cell, new SplitNode(scale, 'x')), new OperatorNode('*', rowInv, new SplitNode(scale, 'y'))]);\n    const uvScale = new OperatorNode('*', uv, scale);\n    const uvFrame = new OperatorNode('+', uvScale, uvFrameOffset);\n    return uvFrame.build(builder, this.getNodeType(builder));\n  }\n\n}\n\nexport default SpriteSheetUVNode;\n"],"mappings":";;;;AAAA,OAAOA,IAAI,MAAM,iBAAiB;AAClC,OAAOC,SAAS,MAAM,sBAAsB;AAC5C,OAAOC,MAAM,MAAM,wBAAwB;AAC3C,OAAOC,QAAQ,MAAM,qBAAqB;AAC1C,OAAOC,YAAY,MAAM,yBAAyB;AAClD,OAAOC,SAAS,MAAM,gBAAgB;AACtC,OAAOC,QAAQ,MAAM,eAAe;AAAC,IAE/BC,iBAAiB;EAAA;EAAA;EACrB,2BAAYC,SAAS,EAAuD;IAAA;IAAA,IAArDC,MAAM,uEAAG,IAAIP,MAAM,EAAE;IAAA,IAAEQ,SAAS,uEAAG,IAAIT,SAAS,CAAC,CAAC,CAAC;IAAA;IACxE,0BAAM,MAAM;IACZ,MAAKO,SAAS,GAAGA,SAAS;IAC1B,MAAKC,MAAM,GAAGA,MAAM;IACpB,MAAKC,SAAS,GAAGA,SAAS;IAAC;EAC7B;EAAC;IAAA;IAAA,OAED,kBAASC,OAAO,EAAE;MAChB,IAAMC,KAAK,GAAG,IAAI,CAACJ,SAAS;MAC5B,IAAMK,EAAE,GAAG,IAAI,CAACJ,MAAM;MACtB,IAAMK,KAAK,GAAG,IAAI,CAACJ,SAAS;MAC5B,IAAMK,GAAG,GAAG,IAAId,SAAS,CAAC,CAAC,CAAC;MAC5B,IAAMe,KAAK,GAAG,IAAIX,SAAS,CAACO,KAAK,EAAE,GAAG,CAAC;MACvC,IAAMK,MAAM,GAAG,IAAIZ,SAAS,CAACO,KAAK,EAAE,GAAG,CAAC;MACxC,IAAMM,KAAK,GAAG,IAAId,YAAY,CAAC,GAAG,EAAEY,KAAK,EAAEC,MAAM,CAAC;MAClD,IAAME,UAAU,GAAG,IAAIhB,QAAQ,CAACA,QAAQ,CAACiB,KAAK,EAAE,IAAIjB,QAAQ,CAACA,QAAQ,CAACkB,GAAG,EAAEP,KAAK,EAAEI,KAAK,CAAC,CAAC;MACzF,IAAMI,QAAQ,GAAG,IAAIlB,YAAY,CAAC,GAAG,EAAEe,UAAU,EAAEJ,GAAG,CAAC;MACvD,IAAMQ,IAAI,GAAG,IAAIpB,QAAQ,CAACA,QAAQ,CAACkB,GAAG,EAAEF,UAAU,EAAEH,KAAK,CAAC;MAC1D,IAAMQ,GAAG,GAAG,IAAIrB,QAAQ,CAACA,QAAQ,CAACsB,IAAI,EAAE,IAAIrB,YAAY,CAAC,GAAG,EAAEkB,QAAQ,EAAEN,KAAK,CAAC,CAAC;MAC/E,IAAMU,MAAM,GAAG,IAAItB,YAAY,CAAC,GAAG,EAAEa,MAAM,EAAEO,GAAG,CAAC;MACjD,IAAMG,KAAK,GAAG,IAAIvB,YAAY,CAAC,GAAG,EAAEW,GAAG,EAAEH,KAAK,CAAC;MAC/C,IAAMgB,aAAa,GAAG,IAAItB,QAAQ,CAAC,CAAC,IAAIF,YAAY,CAAC,GAAG,EAAEmB,IAAI,EAAE,IAAIlB,SAAS,CAACsB,KAAK,EAAE,GAAG,CAAC,CAAC,EAAE,IAAIvB,YAAY,CAAC,GAAG,EAAEsB,MAAM,EAAE,IAAIrB,SAAS,CAACsB,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;MACtJ,IAAME,OAAO,GAAG,IAAIzB,YAAY,CAAC,GAAG,EAAES,EAAE,EAAEc,KAAK,CAAC;MAChD,IAAMG,OAAO,GAAG,IAAI1B,YAAY,CAAC,GAAG,EAAEyB,OAAO,EAAED,aAAa,CAAC;MAC7D,OAAOE,OAAO,CAACC,KAAK,CAACpB,OAAO,EAAE,IAAI,CAACqB,WAAW,CAACrB,OAAO,CAAC,CAAC;IAC1D;EAAC;EAAA;AAAA,EA1B6BX,IAAI;AA8BpC,eAAeO,iBAAiB"},"metadata":{},"sourceType":"module"}