{"ast":null,"code":"import _regeneratorRuntime from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nfunction AmmoPhysics() {\n  return _AmmoPhysics.apply(this, arguments);\n}\nfunction _AmmoPhysics() {\n  _AmmoPhysics = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var AmmoLib, frameRate, collisionConfiguration, dispatcher, broadphase, solver, world, worldTransform, getShape, meshes, meshMap, addMesh, handleMesh, handleInstancedMesh, setMeshPosition, lastTime, step;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            step = function _step() {\n              var time = performance.now();\n              if (lastTime > 0) {\n                var delta = (time - lastTime) / 1000; // console.time( 'world.step' );\n\n                world.stepSimulation(delta, 10); // console.timeEnd( 'world.step' );\n              }\n\n              lastTime = time; //\n\n              for (var i = 0, l = meshes.length; i < l; i++) {\n                var mesh = meshes[i];\n                if (mesh.isInstancedMesh) {\n                  var array = mesh.instanceMatrix.array;\n                  var bodies = meshMap.get(mesh);\n                  for (var j = 0; j < bodies.length; j++) {\n                    var body = bodies[j];\n                    var motionState = body.getMotionState();\n                    motionState.getWorldTransform(worldTransform);\n                    var position = worldTransform.getOrigin();\n                    var quaternion = worldTransform.getRotation();\n                    compose(position, quaternion, array, j * 16);\n                  }\n                  mesh.instanceMatrix.needsUpdate = true;\n                } else if (mesh.isMesh) {\n                  var _body2 = meshMap.get(mesh);\n                  var _motionState = _body2.getMotionState();\n                  _motionState.getWorldTransform(worldTransform);\n                  var _position = worldTransform.getOrigin();\n                  var _quaternion = worldTransform.getRotation();\n                  mesh.position.set(_position.x(), _position.y(), _position.z());\n                  mesh.quaternion.set(_quaternion.x(), _quaternion.y(), _quaternion.z(), _quaternion.w());\n                }\n              }\n            };\n            setMeshPosition = function _setMeshPosition(mesh, position) {\n              var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n              if (mesh.isInstancedMesh) {\n                var bodies = meshMap.get(mesh);\n                var body = bodies[index];\n                body.setAngularVelocity(new AmmoLib.btVector3(0, 0, 0));\n                body.setLinearVelocity(new AmmoLib.btVector3(0, 0, 0));\n                worldTransform.setIdentity();\n                worldTransform.setOrigin(new AmmoLib.btVector3(position.x, position.y, position.z));\n                body.setWorldTransform(worldTransform);\n              } else if (mesh.isMesh) {\n                var _body = meshMap.get(mesh);\n                _body.setAngularVelocity(new AmmoLib.btVector3(0, 0, 0));\n                _body.setLinearVelocity(new AmmoLib.btVector3(0, 0, 0));\n                worldTransform.setIdentity();\n                worldTransform.setOrigin(new AmmoLib.btVector3(position.x, position.y, position.z));\n                _body.setWorldTransform(worldTransform);\n              }\n            };\n            handleInstancedMesh = function _handleInstancedMesh(mesh, mass, shape) {\n              var array = mesh.instanceMatrix.array;\n              var bodies = [];\n              for (var i = 0; i < mesh.count; i++) {\n                var index = i * 16;\n                var transform = new AmmoLib.btTransform();\n                transform.setFromOpenGLMatrix(array.slice(index, index + 16));\n                var motionState = new AmmoLib.btDefaultMotionState(transform);\n                var localInertia = new AmmoLib.btVector3(0, 0, 0);\n                shape.calculateLocalInertia(mass, localInertia);\n                var rbInfo = new AmmoLib.btRigidBodyConstructionInfo(mass, motionState, shape, localInertia);\n                var body = new AmmoLib.btRigidBody(rbInfo);\n                world.addRigidBody(body);\n                bodies.push(body);\n              }\n              if (mass > 0) {\n                mesh.instanceMatrix.setUsage(35048); // THREE.DynamicDrawUsage = 35048\n\n                meshes.push(mesh);\n                meshMap.set(mesh, bodies);\n              }\n            };\n            handleMesh = function _handleMesh(mesh, mass, shape) {\n              var position = mesh.position;\n              var quaternion = mesh.quaternion;\n              var transform = new AmmoLib.btTransform();\n              transform.setIdentity();\n              transform.setOrigin(new AmmoLib.btVector3(position.x, position.y, position.z));\n              transform.setRotation(new AmmoLib.btQuaternion(quaternion.x, quaternion.y, quaternion.z, quaternion.w));\n              var motionState = new AmmoLib.btDefaultMotionState(transform);\n              var localInertia = new AmmoLib.btVector3(0, 0, 0);\n              shape.calculateLocalInertia(mass, localInertia);\n              var rbInfo = new AmmoLib.btRigidBodyConstructionInfo(mass, motionState, shape, localInertia);\n              var body = new AmmoLib.btRigidBody(rbInfo); // body.setFriction( 4 );\n\n              world.addRigidBody(body);\n              if (mass > 0) {\n                meshes.push(mesh);\n                meshMap.set(mesh, body);\n              }\n            };\n            addMesh = function _addMesh(mesh) {\n              var mass = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              var shape = getShape(mesh.geometry);\n              if (shape !== null) {\n                if (mesh.isInstancedMesh) {\n                  handleInstancedMesh(mesh, mass, shape);\n                } else if (mesh.isMesh) {\n                  handleMesh(mesh, mass, shape);\n                }\n              }\n            };\n            getShape = function _getShape(geometry) {\n              var parameters = geometry.parameters; // TODO change type to is*\n\n              if (geometry.type === 'BoxGeometry') {\n                var sx = parameters.width !== undefined ? parameters.width / 2 : 0.5;\n                var sy = parameters.height !== undefined ? parameters.height / 2 : 0.5;\n                var sz = parameters.depth !== undefined ? parameters.depth / 2 : 0.5;\n                var shape = new AmmoLib.btBoxShape(new AmmoLib.btVector3(sx, sy, sz));\n                shape.setMargin(0.05);\n                return shape;\n              } else if (geometry.type === 'SphereGeometry' || geometry.type === 'IcosahedronGeometry') {\n                var radius = parameters.radius !== undefined ? parameters.radius : 1;\n                var _shape = new AmmoLib.btSphereShape(radius);\n                _shape.setMargin(0.05);\n                return _shape;\n              }\n              return null;\n            };\n            if (!('Ammo' in window === false)) {\n              _context.next = 9;\n              break;\n            }\n            console.error(\"AmmoPhysics: Couldn't find Ammo.js\");\n            return _context.abrupt(\"return\");\n          case 9:\n            _context.next = 11;\n            return Ammo();\n          case 11:\n            AmmoLib = _context.sent;\n            // eslint-disable-line no-undef\n            frameRate = 60;\n            collisionConfiguration = new AmmoLib.btDefaultCollisionConfiguration();\n            dispatcher = new AmmoLib.btCollisionDispatcher(collisionConfiguration);\n            broadphase = new AmmoLib.btDbvtBroadphase();\n            solver = new AmmoLib.btSequentialImpulseConstraintSolver();\n            world = new AmmoLib.btDiscreteDynamicsWorld(dispatcher, broadphase, solver, collisionConfiguration);\n            world.setGravity(new AmmoLib.btVector3(0, -9.8, 0));\n            worldTransform = new AmmoLib.btTransform(); //\n            meshes = [];\n            meshMap = new WeakMap();\n            //\n            lastTime = 0;\n            // animate\n\n            setInterval(step, 1000 / frameRate);\n            return _context.abrupt(\"return\", {\n              addMesh: addMesh,\n              setMeshPosition: setMeshPosition // addCompoundMesh\n            });\n          case 25:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _AmmoPhysics.apply(this, arguments);\n}\nfunction compose(position, quaternion, array, index) {\n  var x = quaternion.x(),\n    y = quaternion.y(),\n    z = quaternion.z(),\n    w = quaternion.w();\n  var x2 = x + x,\n    y2 = y + y,\n    z2 = z + z;\n  var xx = x * x2,\n    xy = x * y2,\n    xz = x * z2;\n  var yy = y * y2,\n    yz = y * z2,\n    zz = z * z2;\n  var wx = w * x2,\n    wy = w * y2,\n    wz = w * z2;\n  array[index + 0] = 1 - (yy + zz);\n  array[index + 1] = xy + wz;\n  array[index + 2] = xz - wy;\n  array[index + 3] = 0;\n  array[index + 4] = xy - wz;\n  array[index + 5] = 1 - (xx + zz);\n  array[index + 6] = yz + wx;\n  array[index + 7] = 0;\n  array[index + 8] = xz + wy;\n  array[index + 9] = yz - wx;\n  array[index + 10] = 1 - (xx + yy);\n  array[index + 11] = 0;\n  array[index + 12] = position.x();\n  array[index + 13] = position.y();\n  array[index + 14] = position.z();\n  array[index + 15] = 1;\n}\nexport { AmmoPhysics };","map":{"version":3,"names":["AmmoPhysics","getShape","addMesh","handleMesh","handleInstancedMesh","setMeshPosition","step","time","performance","now","lastTime","delta","world","stepSimulation","i","l","meshes","length","mesh","isInstancedMesh","array","instanceMatrix","bodies","meshMap","get","j","body","motionState","getMotionState","getWorldTransform","worldTransform","position","getOrigin","quaternion","getRotation","compose","needsUpdate","isMesh","set","x","y","z","w","index","setAngularVelocity","AmmoLib","btVector3","setLinearVelocity","setIdentity","setOrigin","setWorldTransform","mass","shape","count","transform","btTransform","setFromOpenGLMatrix","slice","btDefaultMotionState","localInertia","calculateLocalInertia","rbInfo","btRigidBodyConstructionInfo","btRigidBody","addRigidBody","push","setUsage","setRotation","btQuaternion","geometry","parameters","type","sx","width","undefined","sy","height","sz","depth","btBoxShape","setMargin","radius","btSphereShape","window","console","error","Ammo","frameRate","collisionConfiguration","btDefaultCollisionConfiguration","dispatcher","btCollisionDispatcher","broadphase","btDbvtBroadphase","solver","btSequentialImpulseConstraintSolver","btDiscreteDynamicsWorld","setGravity","WeakMap","setInterval","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz"],"sources":["/Users/trudypainter/Desktop/latent-2/frontend/node_modules/three-stdlib/physics/AmmoPhysics.js"],"sourcesContent":["async function AmmoPhysics() {\n  if ('Ammo' in window === false) {\n    console.error(\"AmmoPhysics: Couldn't find Ammo.js\");\n    return;\n  }\n\n  const AmmoLib = await Ammo(); // eslint-disable-line no-undef\n\n  const frameRate = 60;\n  const collisionConfiguration = new AmmoLib.btDefaultCollisionConfiguration();\n  const dispatcher = new AmmoLib.btCollisionDispatcher(collisionConfiguration);\n  const broadphase = new AmmoLib.btDbvtBroadphase();\n  const solver = new AmmoLib.btSequentialImpulseConstraintSolver();\n  const world = new AmmoLib.btDiscreteDynamicsWorld(dispatcher, broadphase, solver, collisionConfiguration);\n  world.setGravity(new AmmoLib.btVector3(0, -9.8, 0));\n  const worldTransform = new AmmoLib.btTransform(); //\n\n  function getShape(geometry) {\n    const parameters = geometry.parameters; // TODO change type to is*\n\n    if (geometry.type === 'BoxGeometry') {\n      const sx = parameters.width !== undefined ? parameters.width / 2 : 0.5;\n      const sy = parameters.height !== undefined ? parameters.height / 2 : 0.5;\n      const sz = parameters.depth !== undefined ? parameters.depth / 2 : 0.5;\n      const shape = new AmmoLib.btBoxShape(new AmmoLib.btVector3(sx, sy, sz));\n      shape.setMargin(0.05);\n      return shape;\n    } else if (geometry.type === 'SphereGeometry' || geometry.type === 'IcosahedronGeometry') {\n      const radius = parameters.radius !== undefined ? parameters.radius : 1;\n      const shape = new AmmoLib.btSphereShape(radius);\n      shape.setMargin(0.05);\n      return shape;\n    }\n\n    return null;\n  }\n\n  const meshes = [];\n  const meshMap = new WeakMap();\n\n  function addMesh(mesh, mass = 0) {\n    const shape = getShape(mesh.geometry);\n\n    if (shape !== null) {\n      if (mesh.isInstancedMesh) {\n        handleInstancedMesh(mesh, mass, shape);\n      } else if (mesh.isMesh) {\n        handleMesh(mesh, mass, shape);\n      }\n    }\n  }\n\n  function handleMesh(mesh, mass, shape) {\n    const position = mesh.position;\n    const quaternion = mesh.quaternion;\n    const transform = new AmmoLib.btTransform();\n    transform.setIdentity();\n    transform.setOrigin(new AmmoLib.btVector3(position.x, position.y, position.z));\n    transform.setRotation(new AmmoLib.btQuaternion(quaternion.x, quaternion.y, quaternion.z, quaternion.w));\n    const motionState = new AmmoLib.btDefaultMotionState(transform);\n    const localInertia = new AmmoLib.btVector3(0, 0, 0);\n    shape.calculateLocalInertia(mass, localInertia);\n    const rbInfo = new AmmoLib.btRigidBodyConstructionInfo(mass, motionState, shape, localInertia);\n    const body = new AmmoLib.btRigidBody(rbInfo); // body.setFriction( 4 );\n\n    world.addRigidBody(body);\n\n    if (mass > 0) {\n      meshes.push(mesh);\n      meshMap.set(mesh, body);\n    }\n  }\n\n  function handleInstancedMesh(mesh, mass, shape) {\n    const array = mesh.instanceMatrix.array;\n    const bodies = [];\n\n    for (let i = 0; i < mesh.count; i++) {\n      const index = i * 16;\n      const transform = new AmmoLib.btTransform();\n      transform.setFromOpenGLMatrix(array.slice(index, index + 16));\n      const motionState = new AmmoLib.btDefaultMotionState(transform);\n      const localInertia = new AmmoLib.btVector3(0, 0, 0);\n      shape.calculateLocalInertia(mass, localInertia);\n      const rbInfo = new AmmoLib.btRigidBodyConstructionInfo(mass, motionState, shape, localInertia);\n      const body = new AmmoLib.btRigidBody(rbInfo);\n      world.addRigidBody(body);\n      bodies.push(body);\n    }\n\n    if (mass > 0) {\n      mesh.instanceMatrix.setUsage(35048); // THREE.DynamicDrawUsage = 35048\n\n      meshes.push(mesh);\n      meshMap.set(mesh, bodies);\n    }\n  } //\n\n\n  function setMeshPosition(mesh, position, index = 0) {\n    if (mesh.isInstancedMesh) {\n      const bodies = meshMap.get(mesh);\n      const body = bodies[index];\n      body.setAngularVelocity(new AmmoLib.btVector3(0, 0, 0));\n      body.setLinearVelocity(new AmmoLib.btVector3(0, 0, 0));\n      worldTransform.setIdentity();\n      worldTransform.setOrigin(new AmmoLib.btVector3(position.x, position.y, position.z));\n      body.setWorldTransform(worldTransform);\n    } else if (mesh.isMesh) {\n      const body = meshMap.get(mesh);\n      body.setAngularVelocity(new AmmoLib.btVector3(0, 0, 0));\n      body.setLinearVelocity(new AmmoLib.btVector3(0, 0, 0));\n      worldTransform.setIdentity();\n      worldTransform.setOrigin(new AmmoLib.btVector3(position.x, position.y, position.z));\n      body.setWorldTransform(worldTransform);\n    }\n  } //\n\n\n  let lastTime = 0;\n\n  function step() {\n    const time = performance.now();\n\n    if (lastTime > 0) {\n      const delta = (time - lastTime) / 1000; // console.time( 'world.step' );\n\n      world.stepSimulation(delta, 10); // console.timeEnd( 'world.step' );\n    }\n\n    lastTime = time; //\n\n    for (let i = 0, l = meshes.length; i < l; i++) {\n      const mesh = meshes[i];\n\n      if (mesh.isInstancedMesh) {\n        const array = mesh.instanceMatrix.array;\n        const bodies = meshMap.get(mesh);\n\n        for (let j = 0; j < bodies.length; j++) {\n          const body = bodies[j];\n          const motionState = body.getMotionState();\n          motionState.getWorldTransform(worldTransform);\n          const position = worldTransform.getOrigin();\n          const quaternion = worldTransform.getRotation();\n          compose(position, quaternion, array, j * 16);\n        }\n\n        mesh.instanceMatrix.needsUpdate = true;\n      } else if (mesh.isMesh) {\n        const body = meshMap.get(mesh);\n        const motionState = body.getMotionState();\n        motionState.getWorldTransform(worldTransform);\n        const position = worldTransform.getOrigin();\n        const quaternion = worldTransform.getRotation();\n        mesh.position.set(position.x(), position.y(), position.z());\n        mesh.quaternion.set(quaternion.x(), quaternion.y(), quaternion.z(), quaternion.w());\n      }\n    }\n  } // animate\n\n\n  setInterval(step, 1000 / frameRate);\n  return {\n    addMesh: addMesh,\n    setMeshPosition: setMeshPosition // addCompoundMesh\n\n  };\n}\n\nfunction compose(position, quaternion, array, index) {\n  const x = quaternion.x(),\n        y = quaternion.y(),\n        z = quaternion.z(),\n        w = quaternion.w();\n  const x2 = x + x,\n        y2 = y + y,\n        z2 = z + z;\n  const xx = x * x2,\n        xy = x * y2,\n        xz = x * z2;\n  const yy = y * y2,\n        yz = y * z2,\n        zz = z * z2;\n  const wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n  array[index + 0] = 1 - (yy + zz);\n  array[index + 1] = xy + wz;\n  array[index + 2] = xz - wy;\n  array[index + 3] = 0;\n  array[index + 4] = xy - wz;\n  array[index + 5] = 1 - (xx + zz);\n  array[index + 6] = yz + wx;\n  array[index + 7] = 0;\n  array[index + 8] = xz + wy;\n  array[index + 9] = yz - wx;\n  array[index + 10] = 1 - (xx + yy);\n  array[index + 11] = 0;\n  array[index + 12] = position.x();\n  array[index + 13] = position.y();\n  array[index + 14] = position.z();\n  array[index + 15] = 1;\n}\n\nexport { AmmoPhysics };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}