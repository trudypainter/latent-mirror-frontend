{"ast":null,"code":"import { useRef, useEffect } from 'react';\nimport { Geometry, BufferGeometry } from 'three';\nimport { TessellateModifier } from 'three/examples/jsm/modifiers/TessellateModifier';\nfunction useTessellation() {\n  let passes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n  let maxEdgeLength = arguments.length > 1 ? arguments[1] : undefined;\n  const ref = useRef();\n  const original = useRef();\n  const modifier = useRef();\n  useEffect(() => {\n    if (!original.current) {\n      original.current = ref.current.geometry.clone();\n      modifier.current = new TessellateModifier(parseInt(maxEdgeLength));\n    }\n  }, [maxEdgeLength]);\n  useEffect(() => {\n    modifier.current.maxEdgeLength = maxEdgeLength;\n  }, [maxEdgeLength]);\n  useEffect(() => {\n    if (original.current && ref.current) {\n      let geometry = new Geometry();\n      if (original.current instanceof BufferGeometry) {\n        geometry.fromBufferGeometry(original.current);\n      } else {\n        geometry = original.current.clone();\n      }\n      const bufferGeometry = new BufferGeometry();\n      for (let i = 0; i < passes; i++) {\n        modifier.current.modify(geometry);\n      }\n      const tessellated = bufferGeometry.fromGeometry(geometry);\n      ref.current.geometry = tessellated;\n    }\n  }, [maxEdgeLength, passes]);\n  return ref;\n}\nexport { useTessellation };","map":{"version":3,"names":["useRef","useEffect","Geometry","BufferGeometry","TessellateModifier","useTessellation","passes","maxEdgeLength","ref","original","modifier","current","geometry","clone","parseInt","fromBufferGeometry","bufferGeometry","i","modify","tessellated","fromGeometry"],"sources":["/Users/trudypainter/Desktop/latent internet mirror/frontend/node_modules/drei/useTessellation.js"],"sourcesContent":["import { useRef, useEffect } from 'react';\nimport { Geometry, BufferGeometry } from 'three';\nimport { TessellateModifier } from 'three/examples/jsm/modifiers/TessellateModifier';\n\nfunction useTessellation(passes = 3, maxEdgeLength) {\n  const ref = useRef();\n  const original = useRef();\n  const modifier = useRef();\n  useEffect(() => {\n    if (!original.current) {\n      original.current = ref.current.geometry.clone();\n      modifier.current = new TessellateModifier(parseInt(maxEdgeLength));\n    }\n  }, [maxEdgeLength]);\n  useEffect(() => {\n    modifier.current.maxEdgeLength = maxEdgeLength;\n  }, [maxEdgeLength]);\n  useEffect(() => {\n    if (original.current && ref.current) {\n      let geometry = new Geometry();\n\n      if (original.current instanceof BufferGeometry) {\n        geometry.fromBufferGeometry(original.current);\n      } else {\n        geometry = original.current.clone();\n      }\n\n      const bufferGeometry = new BufferGeometry();\n\n      for (let i = 0; i < passes; i++) {\n        modifier.current.modify(geometry);\n      }\n\n      const tessellated = bufferGeometry.fromGeometry(geometry);\n      ref.current.geometry = tessellated;\n    }\n  }, [maxEdgeLength, passes]);\n  return ref;\n}\n\nexport { useTessellation };\n"],"mappings":"AAAA,SAASA,MAAM,EAAEC,SAAS,QAAQ,OAAO;AACzC,SAASC,QAAQ,EAAEC,cAAc,QAAQ,OAAO;AAChD,SAASC,kBAAkB,QAAQ,iDAAiD;AAEpF,SAASC,eAAe,GAA4B;EAAA,IAA3BC,MAAM,uEAAG,CAAC;EAAA,IAAEC,aAAa;EAChD,MAAMC,GAAG,GAAGR,MAAM,EAAE;EACpB,MAAMS,QAAQ,GAAGT,MAAM,EAAE;EACzB,MAAMU,QAAQ,GAAGV,MAAM,EAAE;EACzBC,SAAS,CAAC,MAAM;IACd,IAAI,CAACQ,QAAQ,CAACE,OAAO,EAAE;MACrBF,QAAQ,CAACE,OAAO,GAAGH,GAAG,CAACG,OAAO,CAACC,QAAQ,CAACC,KAAK,EAAE;MAC/CH,QAAQ,CAACC,OAAO,GAAG,IAAIP,kBAAkB,CAACU,QAAQ,CAACP,aAAa,CAAC,CAAC;IACpE;EACF,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EACnBN,SAAS,CAAC,MAAM;IACdS,QAAQ,CAACC,OAAO,CAACJ,aAAa,GAAGA,aAAa;EAChD,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EACnBN,SAAS,CAAC,MAAM;IACd,IAAIQ,QAAQ,CAACE,OAAO,IAAIH,GAAG,CAACG,OAAO,EAAE;MACnC,IAAIC,QAAQ,GAAG,IAAIV,QAAQ,EAAE;MAE7B,IAAIO,QAAQ,CAACE,OAAO,YAAYR,cAAc,EAAE;QAC9CS,QAAQ,CAACG,kBAAkB,CAACN,QAAQ,CAACE,OAAO,CAAC;MAC/C,CAAC,MAAM;QACLC,QAAQ,GAAGH,QAAQ,CAACE,OAAO,CAACE,KAAK,EAAE;MACrC;MAEA,MAAMG,cAAc,GAAG,IAAIb,cAAc,EAAE;MAE3C,KAAK,IAAIc,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGX,MAAM,EAAEW,CAAC,EAAE,EAAE;QAC/BP,QAAQ,CAACC,OAAO,CAACO,MAAM,CAACN,QAAQ,CAAC;MACnC;MAEA,MAAMO,WAAW,GAAGH,cAAc,CAACI,YAAY,CAACR,QAAQ,CAAC;MACzDJ,GAAG,CAACG,OAAO,CAACC,QAAQ,GAAGO,WAAW;IACpC;EACF,CAAC,EAAE,CAACZ,aAAa,EAAED,MAAM,CAAC,CAAC;EAC3B,OAAOE,GAAG;AACZ;AAEA,SAASH,eAAe"},"metadata":{},"sourceType":"module"}