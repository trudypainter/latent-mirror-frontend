{"ast":null,"code":"import _classCallCheck from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/trudypainter/Desktop/latent-2/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { ImageUtils } from '../extras/ImageUtils.js';\nimport * as MathUtils from '../math/MathUtils.js';\nvar Source = /*#__PURE__*/function () {\n  function Source() {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    _classCallCheck(this, Source);\n    this.isSource = true;\n    this.uuid = MathUtils.generateUUID();\n    this.data = data;\n    this.version = 0;\n  }\n  _createClass(Source, [{\n    key: \"needsUpdate\",\n    set: function set(value) {\n      if (value === true) this.version++;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON(meta) {\n      var isRootObject = meta === undefined || typeof meta === 'string';\n      if (!isRootObject && meta.images[this.uuid] !== undefined) {\n        return meta.images[this.uuid];\n      }\n      var output = {\n        uuid: this.uuid,\n        url: ''\n      };\n      var data = this.data;\n      if (data !== null) {\n        var url;\n        if (Array.isArray(data)) {\n          // cube texture\n\n          url = [];\n          for (var i = 0, l = data.length; i < l; i++) {\n            if (data[i].isDataTexture) {\n              url.push(serializeImage(data[i].image));\n            } else {\n              url.push(serializeImage(data[i]));\n            }\n          }\n        } else {\n          // texture\n\n          url = serializeImage(data);\n        }\n        output.url = url;\n      }\n      if (!isRootObject) {\n        meta.images[this.uuid] = output;\n      }\n      return output;\n    }\n  }]);\n  return Source;\n}();\nfunction serializeImage(image) {\n  if (typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement || typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement || typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap) {\n    // default images\n\n    return ImageUtils.getDataURL(image);\n  } else {\n    if (image.data) {\n      // images of DataTexture\n\n      return {\n        data: Array.from(image.data),\n        width: image.width,\n        height: image.height,\n        type: image.data.constructor.name\n      };\n    } else {\n      console.warn('THREE.Texture: Unable to serialize Texture.');\n      return {};\n    }\n  }\n}\nexport { Source };","map":{"version":3,"names":["ImageUtils","MathUtils","Source","data","isSource","uuid","generateUUID","version","value","meta","isRootObject","undefined","images","output","url","Array","isArray","i","l","length","isDataTexture","push","serializeImage","image","HTMLImageElement","HTMLCanvasElement","ImageBitmap","getDataURL","from","width","height","type","constructor","name","console","warn"],"sources":["/Users/trudypainter/Desktop/latent-2/frontend/node_modules/three/src/textures/Source.js"],"sourcesContent":["import { ImageUtils } from '../extras/ImageUtils.js';\nimport * as MathUtils from '../math/MathUtils.js';\n\nclass Source {\n\n\tconstructor( data = null ) {\n\n\t\tthis.isSource = true;\n\n\t\tthis.uuid = MathUtils.generateUUID();\n\n\t\tthis.data = data;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.images[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.images[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\t\t\tuuid: this.uuid,\n\t\t\turl: ''\n\t\t};\n\n\t\tconst data = this.data;\n\n\t\tif ( data !== null ) {\n\n\t\t\tlet url;\n\n\t\t\tif ( Array.isArray( data ) ) {\n\n\t\t\t\t// cube texture\n\n\t\t\t\turl = [];\n\n\t\t\t\tfor ( let i = 0, l = data.length; i < l; i ++ ) {\n\n\t\t\t\t\tif ( data[ i ].isDataTexture ) {\n\n\t\t\t\t\t\turl.push( serializeImage( data[ i ].image ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\turl.push( serializeImage( data[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// texture\n\n\t\t\t\turl = serializeImage( data );\n\n\t\t\t}\n\n\t\t\toutput.url = url;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.images[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n}\n\nfunction serializeImage( image ) {\n\n\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t// default images\n\n\t\treturn ImageUtils.getDataURL( image );\n\n\t} else {\n\n\t\tif ( image.data ) {\n\n\t\t\t// images of DataTexture\n\n\t\t\treturn {\n\t\t\t\tdata: Array.from( image.data ),\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height,\n\t\t\t\ttype: image.data.constructor.name\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Texture: Unable to serialize Texture.' );\n\t\t\treturn {};\n\n\t\t}\n\n\t}\n\n}\n\nexport { Source };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}